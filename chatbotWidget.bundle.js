/*! For license information please see chatbotWidget.bundle.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("React")):"function"==typeof define&&define.amd?define(["React"],e):"object"==typeof exports?exports.ChatbotWidget=e(require("React")):t.ChatbotWidget=e(t.React)}(this,(t=>(()=>{"use strict";var e={743:(t,e,n)=>{n.d(e,{A:()=>a});var r=n(601),s=n.n(r),i=n(314),o=n.n(i)()(s());o.push([t.id,".typing {\n    display: inline-block;\n    width: 60px;\n    text-align: center;\n  }\n  \n  .dot {\n    height: 10px;\n    width: 10px;\n    margin: 0 3px;\n    background-color: #bbb;\n    border-radius: 50%;\n    display: inline-block;\n    animation: typing 1.5s infinite ease-in-out both;\n  }\n  \n  .dot:nth-child(1) {\n    animation-delay: 0s;\n  }\n  .dot:nth-child(2) {\n    animation-delay: 0.3s;\n  }\n  .dot:nth-child(3) {\n    animation-delay: 0.6s;\n  }\n  \n  @keyframes typing {\n    0% {\n      opacity: 0.2;\n      transform: translateY(0);\n    }\n    50% {\n      opacity: 1;\n      transform: translateY(-5px);\n    }\n    100% {\n      opacity: 0.2;\n      transform: translateY(0);\n    }\n  }\n  ",""]);const a=o},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,s,i){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(r)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(o[c]=!0)}for(var u=0;u<t.length;u++){var h=[].concat(t[u]);r&&o[h[0]]||(void 0!==i&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=i),n&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=n):h[2]=n),s&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=s):h[4]="".concat(s)),e.push(h))}},e}},601:t=>{t.exports=function(t){return t[1]}},20:(t,e,n)=>{var r=n(883),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(t,e,n){var r,i={},u=null,h=null;for(r in void 0!==n&&(u=""+n),void 0!==e.key&&(u=""+e.key),void 0!==e.ref&&(h=e.ref),e)o.call(e,r)&&!c.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===i[r]&&(i[r]=e[r]);return{$$typeof:s,type:t,key:u,ref:h,props:i,_owner:a.current}}e.Fragment=i,e.jsx=u,e.jsxs=u},848:(t,e,n)=>{t.exports=n(20)},72:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},o=[],a=0;a<t.length;a++){var c=t[a],u=r.base?c[0]+r.base:c[0],h=i[u]||0,l="".concat(u," ").concat(h);i[u]=h+1;var p=n(l),d={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)e[p].references++,e[p].updater(d);else{var f=s(d,r);r.byIndex=a,e.splice(a,0,{identifier:l,updater:f,references:1})}o.push(l)}return o}function s(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,s){var i=r(t=t||[],s=s||{});return function(t){t=t||[];for(var o=0;o<i.length;o++){var a=n(i[o]);e[a].references--}for(var c=r(t,s),u=0;u<i.length;u++){var h=n(i[u]);0===e[h].references&&(e[h].updater(),e.splice(h,1))}i=c}}},659:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var s=void 0!==n.layer;s&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,s&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},883:e=>{e.exports=t}},n={};function r(t){var s=n[t];if(void 0!==s)return s.exports;var i=n[t]={id:t,exports:{}};return e[t](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nc=void 0;var s={};r.r(s),r.d(s,{default:()=>Ue});var i={};r.r(i),r.d(i,{Decoder:()=>bt,Encoder:()=>gt,PacketType:()=>mt,protocol:()=>yt});var o=r(848),a=r(883);const c=Object.create(null);c.open="0",c.close="1",c.ping="2",c.pong="3",c.message="4",c.upgrade="5",c.noop="6";const u=Object.create(null);Object.keys(c).forEach((t=>{u[c[t]]=t}));const h={type:"error",data:"parser error"},l="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),p="function"==typeof ArrayBuffer,d=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,f=({type:t,data:e},n,r)=>l&&e instanceof Blob?n?r(e):y(e,r):p&&(e instanceof ArrayBuffer||d(e))?n?r(e):y(new Blob([e]),r):r(c[t]+(e||"")),y=(t,e)=>{const n=new FileReader;return n.onload=function(){const t=n.result.split(",")[1];e("b"+(t||""))},n.readAsDataURL(t)};function m(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let g;const v="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let t=0;t<64;t++)v["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(t)]=t;const b="function"==typeof ArrayBuffer,w=(t,e)=>{if("string"!=typeof t)return{type:"message",data:A(t,e)};const n=t.charAt(0);return"b"===n?{type:"message",data:_(t.substring(1),e)}:u[n]?t.length>1?{type:u[n],data:t.substring(1)}:{type:u[n]}:h},_=(t,e)=>{if(b){const n=(t=>{let e,n,r,s,i,o=.75*t.length,a=t.length,c=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);const u=new ArrayBuffer(o),h=new Uint8Array(u);for(e=0;e<a;e+=4)n=v[t.charCodeAt(e)],r=v[t.charCodeAt(e+1)],s=v[t.charCodeAt(e+2)],i=v[t.charCodeAt(e+3)],h[c++]=n<<2|r>>4,h[c++]=(15&r)<<4|s>>2,h[c++]=(3&s)<<6|63&i;return u})(t);return A(n,e)}return{base64:!0,data:t}},A=(t,e)=>"blob"===e?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer,S=String.fromCharCode(30);let U;function M(t){return t.reduce(((t,e)=>t+e.length),0)}function x(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let s=0;s<e;s++)n[s]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function k(t){if(t)return function(t){for(var e in k.prototype)t[e]=k.prototype[e];return t}(t)}k.prototype.on=k.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},k.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},k.prototype.off=k.prototype.removeListener=k.prototype.removeAllListeners=k.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var s=0;s<r.length;s++)if((n=r[s])===e||n.fn===e){r.splice(s,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},k.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var s=(n=n.slice(0)).length;r<s;++r)n[r].apply(this,e)}return this},k.prototype.emitReserved=k.prototype.emit,k.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},k.prototype.hasListeners=function(t){return!!this.listeners(t).length};const T="function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0),C="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function E(t,...e){return e.reduce(((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e)),{})}const R=C.setTimeout,N=C.clearTimeout;function O(t,e){e.useNativeTimers?(t.setTimeoutFn=R.bind(C),t.clearTimeoutFn=N.bind(C)):(t.setTimeoutFn=C.setTimeout.bind(C),t.clearTimeoutFn=C.clearTimeout.bind(C))}function P(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class j extends Error{constructor(t,e,n){super(t),this.description=e,this.context=n,this.type="TransportError"}}class I extends k{constructor(t){super(),this.writable=!1,O(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,e,n){return super.emitReserved("error",new j(t,e,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=w(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,e={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const t=this.opts.hostname;return-1===t.indexOf(":")?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(t){const e=function(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}(t);return e.length?"?"+e:""}}class B extends I{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let t=0;this._polling&&(t++,this.once("pollComplete",(function(){--t||e()}))),this.writable||(t++,this.once("drain",(function(){--t||e()})))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){((t,e)=>{const n=t.split(S),r=[];for(let t=0;t<n.length;t++){const s=w(n[t],e);if(r.push(s),"error"===s.type)break}return r})(t,this.socket.binaryType).forEach((t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,((t,e)=>{const n=t.length,r=new Array(n);let s=0;t.forEach(((t,i)=>{f(t,!1,(t=>{r[i]=t,++s===n&&e(r.join(S))}))}))})(t,(t=>{this.doWrite(t,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const t=this.opts.secure?"https":"http",e=this.query||{};return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=P()),this.supportsBinary||e.sid||(e.b64=1),this.createUri(t,e)}}let L=!1;try{L="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){}const F=L;function q(){}class D extends B{constructor(t){if(super(t),"undefined"!=typeof location){const e="https:"===location.protocol;let n=location.port;n||(n=e?"443":"80"),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,e){const n=this.request({method:"POST",data:t});n.on("success",e),n.on("error",((t,e)=>{this.onError("xhr post error",t,e)}))}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",((t,e)=>{this.onError("xhr poll error",t,e)})),this.pollXhr=t}}class Q extends k{constructor(t,e,n){super(),this.createRequest=t,O(this,n),this._opts=n,this._method=n.method||"GET",this._uri=e,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var t;const e=E(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(e);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let t in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(t)&&n.setRequestHeader(t,this._opts.extraHeaders[t])}}catch(t){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{n.setRequestHeader("Accept","*/*")}catch(t){}null===(t=this._opts.cookieJar)||void 0===t||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var t;3===n.readyState&&(null===(t=this._opts.cookieJar)||void 0===t||t.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn((()=>{this._onError("number"==typeof n.status?n.status:0)}),0))},n.send(this._data)}catch(t){return void this.setTimeoutFn((()=>{this._onError(t)}),0)}"undefined"!=typeof document&&(this._index=Q.requestsCount++,Q.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(void 0!==this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=q,t)try{this._xhr.abort()}catch(t){}"undefined"!=typeof document&&delete Q.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}function J(){for(let t in Q.requests)Q.requests.hasOwnProperty(t)&&Q.requests[t].abort()}Q.requestsCount=0,Q.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",J):"function"==typeof addEventListener&&addEventListener("onpagehide"in C?"pagehide":"unload",J,!1));const z=function(){const t=V({xdomain:!1});return t&&null!==t.responseType}();function V(t){const e=t.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||F))return new XMLHttpRequest}catch(t){}if(!e)try{return new(C[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}const W="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Y extends I{get name(){return"websocket"}doOpen(){const t=this.uri(),e=this.opts.protocols,n=W?{}:E(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,e,n)}catch(t){return this.emitReserved("error",t)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],r=e===t.length-1;f(n,this.supportsBinary,(t=>{try{this.doWrite(n,t)}catch(t){}r&&T((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=P()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}}const H=C.WebSocket||C.MozWebSocket,K={websocket:class extends Y{createSocket(t,e,n){return W?new H(t,e,n):e?new H(t,e):new H(t)}doWrite(t,e){this.ws.send(e)}},webtransport:class extends I{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then((()=>{this.onClose()})).catch((t=>{this.onError("webtransport error",t)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((t=>{const e=function(t,e){U||(U=new TextDecoder);const n=[];let r=0,s=-1,i=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(0===r){if(M(n)<1)break;const t=x(n,1);i=!(128&~t[0]),s=127&t[0],r=s<126?3:126===s?1:2}else if(1===r){if(M(n)<2)break;const t=x(n,2);s=new DataView(t.buffer,t.byteOffset,t.length).getUint16(0),r=3}else if(2===r){if(M(n)<8)break;const t=x(n,8),e=new DataView(t.buffer,t.byteOffset,t.length),i=e.getUint32(0);if(i>Math.pow(2,21)-1){a.enqueue(h);break}s=i*Math.pow(2,32)+e.getUint32(4),r=3}else{if(M(n)<s)break;const t=x(n,s);a.enqueue(w(i?t:U.decode(t),e)),r=0}if(0===s||s>t){a.enqueue(h);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(e).getReader(),r=new TransformStream({transform(t,e){!function(t,e){l&&t.data instanceof Blob?t.data.arrayBuffer().then(m).then(e):p&&(t.data instanceof ArrayBuffer||d(t.data))?e(m(t.data)):f(t,!1,(t=>{g||(g=new TextEncoder),e(g.encode(t))}))}(t,(n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const t=new DataView(s.buffer);t.setUint8(0,126),t.setUint16(1,r)}else{s=new Uint8Array(9);const t=new DataView(s.buffer);t.setUint8(0,127),t.setBigUint64(1,BigInt(r))}t.data&&"string"!=typeof t.data&&(s[0]|=128),e.enqueue(s),e.enqueue(n)}))}});r.readable.pipeTo(t.writable),this._writer=r.writable.getWriter();const s=()=>{n.read().then((({done:t,value:e})=>{t||(this.onPacket(e),s())})).catch((t=>{}))};s();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this._writer.write(i).then((()=>this.onOpen()))}))}))}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],r=e===t.length-1;this._writer.write(n).then((()=>{r&&T((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var t;null===(t=this._transport)||void 0===t||t.close()}},polling:class extends D{constructor(t){super(t);const e=t&&t.forceBase64;this.supportsBinary=z&&!e}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Q(V,this.uri(),t)}}},$=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,X=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Z(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");-1!=n&&-1!=r&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let s=$.exec(t||""),i={},o=14;for(;o--;)i[X[o]]=s[o]||"";return-1!=n&&-1!=r&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=function(t,e){const n=e.replace(/\/{2,9}/g,"/").split("/");return"/"!=e.slice(0,1)&&0!==e.length||n.splice(0,1),"/"==e.slice(-1)&&n.splice(n.length-1,1),n}(0,i.path),i.queryKey=function(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,r){e&&(n[e]=r)})),n}(0,i.query),i}const G="function"==typeof addEventListener&&"function"==typeof removeEventListener,tt=[];G&&addEventListener("offline",(()=>{tt.forEach((t=>t()))}),!1);class et extends k{constructor(t,e){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&"object"==typeof t&&(e=t,t=null),t){const n=Z(t);e.hostname=n.host,e.secure="https"===n.protocol||"wss"===n.protocol,e.port=n.port,n.query&&(e.query=n.query)}else e.host&&(e.hostname=Z(e.host).host);O(this,e),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},e.transports.forEach((t=>{const e=t.prototype.name;this.transports.push(e),this._transportsByName[e]=t})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(t){let e={},n=t.split("&");for(let t=0,r=n.length;t<r;t++){let r=n[t].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}(this.opts.query)),G&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},tt.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const e=Object.assign({},this.opts.query);e.EIO=4,e.transport=t,this.id&&(e.sid=this.id);const n=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const t=this.opts.rememberUpgrade&&et.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const e=this.createTransport(t);e.open(),this.setTransport(e)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(t=>this._onClose("transport close",t)))}onOpen(){this.readyState="open",et.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const e=new Error("server error");e.code=t.data,this._onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(t+="string"==typeof(e=r)?function(t){let e=0,n=0;for(let r=0,s=t.length;r<s;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))),n>0&&t>this._maxPayload)return this.writeBuffer.slice(0,n);t+=2}var e;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,T((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),t}write(t,e,n){return this._sendPacket("message",t,e,n),this}send(t,e,n){return this._sendPacket("message",t,e,n),this}_sendPacket(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const s={type:t,data:e,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),r&&this.once("flush",r),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},n=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():t()})):this.upgrading?n():t()),this}_onError(t){if(et.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),G&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const t=tt.indexOf(this._offlineEventListener);-1!==t&&tt.splice(t,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this._prevBufferLen=0}}}et.protocol=4;class nt extends et{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let e=this.createTransport(t),n=!1;et.priorWebsocketSuccess=!1;const r=()=>{n||(e.send([{type:"ping",data:"probe"}]),e.once("packet",(t=>{if(!n)if("pong"===t.type&&"probe"===t.data){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;et.priorWebsocketSuccess="websocket"===e.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(u(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())}))}else{const t=new Error("probe error");t.transport=e.name,this.emitReserved("upgradeError",t)}})))};function s(){n||(n=!0,u(),e.close(),e=null)}const i=t=>{const n=new Error("probe error: "+t);n.transport=e.name,s(),this.emitReserved("upgradeError",n)};function o(){i("transport closed")}function a(){i("socket closed")}function c(t){e&&t.name!==e.name&&s()}const u=()=>{e.removeListener("open",r),e.removeListener("error",i),e.removeListener("close",o),this.off("close",a),this.off("upgrading",c)};e.once("open",r),e.once("error",i),e.once("close",o),this.once("close",a),this.once("upgrading",c),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn((()=>{n||e.open()}),200):e.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const e=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}class rt extends nt{constructor(t,e={}){const n="object"==typeof t?t:e;(!n.transports||n.transports&&"string"==typeof n.transports[0])&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map((t=>K[t])).filter((t=>!!t))),super(t,n)}}const st="function"==typeof ArrayBuffer,it=Object.prototype.toString,ot="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===it.call(Blob),at="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===it.call(File);function ct(t){return st&&(t instanceof ArrayBuffer||(t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer)(t))||ot&&t instanceof Blob||at&&t instanceof File}function ut(t,e){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let e=0,n=t.length;e<n;e++)if(ut(t[e]))return!0;return!1}if(ct(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return ut(t.toJSON(),!0);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&ut(t[e]))return!0;return!1}function ht(t){const e=[],n=t.data,r=t;return r.data=lt(n,e),r.attachments=e.length,{packet:r,buffers:e}}function lt(t,e){if(!t)return t;if(ct(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=lt(t[r],e);return n}if("object"==typeof t&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=lt(t[r],e));return n}return t}function pt(t,e){return t.data=dt(t.data,e),delete t.attachments,t}function dt(t,e){if(!t)return t;if(t&&!0===t._placeholder){if("number"==typeof t.num&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=dt(t[n],e);else if("object"==typeof t)for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=dt(t[n],e));return t}const ft=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],yt=5;var mt;!function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(mt||(mt={}));class gt{constructor(t){this.replacer=t}encode(t){return t.type!==mt.EVENT&&t.type!==mt.ACK||!ut(t)?[this.encodeAsString(t)]:this.encodeAsBinary({type:t.type===mt.EVENT?mt.BINARY_EVENT:mt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id})}encodeAsString(t){let e=""+t.type;return t.type!==mt.BINARY_EVENT&&t.type!==mt.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=ht(t),n=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(n),r}}function vt(t){return"[object Object]"===Object.prototype.toString.call(t)}class bt extends k{constructor(t){super(),this.reviver=t}add(t){let e;if("string"==typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);const n=e.type===mt.BINARY_EVENT;n||e.type===mt.BINARY_ACK?(e.type=n?mt.EVENT:mt.ACK,this.reconstructor=new wt(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!ct(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const n={type:Number(t.charAt(0))};if(void 0===mt[n.type])throw new Error("unknown packet type "+n.type);if(n.type===mt.BINARY_EVENT||n.type===mt.BINARY_ACK){const r=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const s=t.substring(r,e);if(s!=Number(s)||"-"!==t.charAt(e))throw new Error("Illegal attachments");n.attachments=Number(s)}if("/"===t.charAt(e+1)){const r=e+1;for(;++e&&","!==t.charAt(e)&&e!==t.length;);n.nsp=t.substring(r,e)}else n.nsp="/";const r=t.charAt(e+1);if(""!==r&&Number(r)==r){const r=e+1;for(;++e;){const n=t.charAt(e);if(null==n||Number(n)!=n){--e;break}if(e===t.length)break}n.id=Number(t.substring(r,e+1))}if(t.charAt(++e)){const r=this.tryParse(t.substr(e));if(!bt.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(t){return!1}}static isPayloadValid(t,e){switch(t){case mt.CONNECT:return vt(e);case mt.DISCONNECT:return void 0===e;case mt.CONNECT_ERROR:return"string"==typeof e||vt(e);case mt.EVENT:case mt.BINARY_EVENT:return Array.isArray(e)&&("number"==typeof e[0]||"string"==typeof e[0]&&-1===ft.indexOf(e[0]));case mt.ACK:case mt.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class wt{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=pt(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function _t(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const At=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class St extends k{constructor(t,e,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[_t(t,"open",this.onopen.bind(this)),_t(t,"packet",this.onpacket.bind(this)),_t(t,"error",this.onerror.bind(this)),_t(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){var n,r,s;if(At.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const i={type:mt.EVENT,data:e,options:{}};if(i.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){const t=this.ids++,n=e.pop();this._registerAckCallback(t,n),i.id=t}const o=null===(r=null===(n=this.io.engine)||void 0===n?void 0:n.transport)||void 0===r?void 0:r.writable,a=this.connected&&!(null===(s=this.io.engine)||void 0===s?void 0:s._hasPingExpired());return this.flags.volatile&&!o||(a?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(t,e){var n;const r=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===r)return void(this.acks[t]=e);const s=this.io.setTimeoutFn((()=>{delete this.acks[t];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===t&&this.sendBuffer.splice(e,1);e.call(this,new Error("operation has timed out"))}),r),i=(...t)=>{this.io.clearTimeoutFn(s),e.apply(this,t)};i.withError=!0,this.acks[t]=i}emitWithAck(t,...e){return new Promise(((n,r)=>{const s=(t,e)=>t?r(t):n(e);s.withError=!0,e.push(s),this.emit(t,...e)}))}_addToQueue(t){let e;"function"==typeof t[t.length-1]&&(e=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push(((t,...r)=>{if(n===this._queue[0])return null!==t?n.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(t)):(this._queue.shift(),e&&e(null,...r)),n.pending=!1,this._drainQueue()})),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||0===this._queue.length)return;const e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth((t=>{this._sendConnectPacket(t)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:mt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((t=>{if(!this.sendBuffer.some((e=>String(e.id)===t))){const e=this.acks[t];delete this.acks[t],e.withError&&e.call(this,new Error("socket has been disconnected"))}}))}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case mt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case mt.EVENT:case mt.BINARY_EVENT:this.onevent(t);break;case mt.ACK:case mt.BINARY_ACK:this.onack(t);break;case mt.DISCONNECT:this.ondisconnect();break;case mt.CONNECT_ERROR:this.destroy();const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e)}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&"string"==typeof t[t.length-1]&&(this._lastOffset=t[t.length-1])}ack(t){const e=this;let n=!1;return function(...r){n||(n=!0,e.packet({type:mt.ACK,id:t,data:r}))}}onack(t){const e=this.acks[t.id];"function"==typeof e&&(delete this.acks[t.id],e.withError&&t.data.unshift(null),e.apply(this,t.data))}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((t=>this.emitEvent(t))),this.receiveBuffer=[],this.sendBuffer.forEach((t=>{this.notifyOutgoingListeners(t),this.packet(t)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((t=>t())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:mt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const n of e)n.apply(this,t.data)}}}function Ut(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Ut.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=1&Math.floor(10*e)?t+n:t-n}return 0|Math.min(t,this.max)},Ut.prototype.reset=function(){this.attempts=0},Ut.prototype.setMin=function(t){this.ms=t},Ut.prototype.setMax=function(t){this.max=t},Ut.prototype.setJitter=function(t){this.jitter=t};class Mt extends k{constructor(t,e){var n;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,O(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=e.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new Ut({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const r=e.parser||i;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new rt(this.uri,this.opts);const e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=_t(e,"open",(function(){n.onopen(),t&&t()})),s=e=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",e),t?t(e):this.maybeReconnectOnOpen()},i=_t(e,"error",s);if(!1!==this._timeout){const t=this._timeout,n=this.setTimeoutFn((()=>{r(),s(new Error("timeout")),e.close()}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(r),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(_t(t,"ping",this.onping.bind(this)),_t(t,"data",this.ondata.bind(this)),_t(t,"error",this.onerror.bind(this)),_t(t,"close",this.onclose.bind(this)),_t(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(t){this.onclose("parse error",t)}}ondecoded(t){T((()=>{this.emitReserved("packet",t)}),this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new St(this,t,e),this.nsps[t]=n),n}_destroy(t){const e=Object.keys(this.nsps);for(const t of e)if(this.nsps[t].active)return;this._close()}_packet(t){const e=this.encoder.encode(t);for(let n=0;n<e.length;n++)this.engine.write(e[n],t.options)}cleanup(){this.subs.forEach((t=>t())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,e){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((e=>{e?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):t.onreconnect()})))}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const xt={};function kt(t,e){"object"==typeof t&&(e=t,t=void 0);const n=function(t,e="",n){let r=t;n=n||"undefined"!=typeof location&&location,null==t&&(t=n.protocol+"//"+n.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==n?n.protocol+"//"+t:"https://"+t),r=Z(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}(t,(e=e||{}).path||"/socket.io"),r=n.source,s=n.id,i=n.path,o=xt[s]&&i in xt[s].nsps;let a;return e.forceNew||e["force new connection"]||!1===e.multiplex||o?a=new Mt(r,e):(xt[s]||(xt[s]=new Mt(r,e)),a=xt[s]),n.query&&!e.query&&(e.query=n.queryKey),a.socket(n.path,e)}Object.assign(kt,{Manager:Mt,Socket:St,io:kt,connect:kt});var Tt,Ct=(Tt=function(t,e){return Tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Tt(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Tt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Et=function(t){function e(n,r){var s=t.call(this,r)||this;return s.initiator=n,s.userMessage=r,Object.setPrototypeOf(s,e.prototype),s}return Ct(e,t),e}(Error),Rt=function(){function t(){this.listeners={}}return t.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},t.prototype.emit=function(t,e){if(this.listeners[t])for(var n=0,r=this.listeners[t];n<r.length;n++){var s=r[n];try{s(e)}catch(e){console.error("Error occurred in listener for ".concat(String(t),":"),e)}}},t}();const Nt=(t,e=4294967295,n=79764919)=>{const r=new Int32Array(256);let s,i,o,a=e;for(s=0;s<256;s++){for(o=s<<24,i=8;i>0;--i)o=2147483648&o?o<<1^n:o<<1;r[s]=o}for(s=0;s<t.length;s++)a=a<<8^r[255&(a>>24^t[s])];return a},Ot=(t,e=Nt)=>{const n=t=>new Uint8Array(t.length/2).map(((e,n)=>parseInt(t.substring(2*n,2*(n+1)),16))),r=t=>n(t)[0],s=new Map;[,8364,,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,,381,,,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,,382,376].forEach(((t,e)=>s.set(t,e)));const i=new Uint8Array(t.length);let o,a,c,u=!1,h=0,l=42,p=t.length>13&&"dynEncode"===t.substring(0,9),d=0;p&&(d=11,a=r(t.substring(9,d)),a<=1&&(d+=2,l=r(t.substring(11,d))),1===a&&(d+=8,c=(t=>new DataView(n(t).buffer).getInt32(0,!0))(t.substring(13,d))));const f=256-l;for(let e=d;e<t.length;e++)if(o=t.charCodeAt(e),61!==o||u){if(92===o&&e<t.length-5&&p){const n=t.charCodeAt(e+1);117!==n&&85!==n||(o=parseInt(t.substring(e+2,e+6),16),e+=5)}if(o>255){const t=s.get(o);t&&(o=t+127)}u&&(u=!1,o-=64),i[h++]=o<l&&o>0?o+f:o-l}else u=!0;const y=i.subarray(0,h);if(p&&1===a){const t=e(y);if(t!==c){const e="Decode failed crc32 validation";throw console.error("`simple-yenc`\n",e+"\n","Expected: "+c+"; Got: "+t+"\n","Visit https://github.com/eshaz/simple-yenc for more information"),Error(e)}}return y};function Pt(){const t=Uint8Array,e=Float32Array;Pt.modules||Object.defineProperties(Pt,{modules:{value:new WeakMap},setModule:{value(t,e){Pt.modules.set(t,Promise.resolve(e))}},getModule:{value(t,e){let n=Pt.modules.get(t);return n||(e?n=WebAssembly.compile(Ot(e)):(e=t.wasm,n=Pt.inflateDynEncodeString(e).then((t=>WebAssembly.compile(t)))),Pt.modules.set(t,n)),n}},concatFloat32:{value(t,n){let r=new e(n),s=0,i=0;for(;s<t.length;)r.set(t[s],i),i+=t[s++].length;return r}},getDecodedAudio:{value:(t,e,n,r,s)=>({errors:t,channelData:e,samplesDecoded:n,sampleRate:r,bitDepth:s})},getDecodedAudioMultiChannel:{value(t,e,n,r,s,i){let o,a,c=[];for(o=0;o<n;o++){const t=[];for(a=0;a<e.length;)t.push(e[a++][o]||[]);c.push(Pt.concatFloat32(t,r))}return Pt.getDecodedAudio(t,c,r,s,i)}},inflateDynEncodeString:{value:e=>(e=Ot(e),new Promise((n=>{const r=String.raw`dynEncode0114db91da9bu*ttt$#UU3yzzss|yusvuy&4<054<,5T44^T44<(6U~J(44< ~A544U~6J0444545 444J0444J,4U4U7U454U4Z4U4U^/6545T4T44BU~64CU~O4U54U~5 U5T4B4Z!4U~5U5U5T4U~6U4ZTU5U5T44~4O4U2ZTU5T44Z!4B6T44U~64B6U~O44U~4O4U~54U~5 44~C4~54U~5 44~5454U4B6Ub!444~UO4U~5 U54U4ZTU#44U$464<4~B6^4<444~U~B4U~54U544~544~U5 U#UJU#5TT4U0ZTTUX5U5T4T4U#~4OU4U$~C4~54U~5 T44$6U\!TTT4UaT4<6T4<64<Z!44~4N4<U~5 4UZ!4U_TU#44UU6U~B$544$6U\!4U6U#~B44U#~B$~64<6_TU#444U~B~6~54<Y!44<_!T4Y!4<64~444~AN44<U~6J4U5 44J4U[!U#44UO4U~54U~5 U54 7U6844J44J 4UJ4UJ04VK(44<J44<J$4U~54U~5 4U~5!TTT4U$5"U5TTTTTTT4U$"4VK,U54<(6U~64<$6_!4< 64~6A54A544U~6#J(U54A4U[!44J(44#~A4U6UUU[!4464~64_!4<64~54<6T4<4]TU5 T4Y!44~44~AN4U~54U~54U5 44J(44J UA!U5U#UJU"UJU#U"JU#U"JT4UZTU5T4UZTU5T4UDZTU5T4U$[T44~UO4U~5 UU4U~U$.U5T4UP[T4U~4~UO4U~5 U#<U#<4U~U2$.UUN 44 ~UO4U~5 44!~UO4U~5 4U~4~UO4U~5 44J44J(U5 44U~J@44U~J<44UD~J844U~J44U$54U$5U54U$54U1^4U1^!4U~54U~5U54U~6U4U^/65T4T4U$54U~4BU~4O4U54U~5 UU'464U'_/54UU~5T4T4U~4BU~UO4U54U~5 U54U~4U~4U~U'$!44~5U5T44\T44U<~$6U\!4U#aT4U~4U~4O4U~5 U5U5U5TTT4U$"4YTU5 4U4~C5U5 U5U5444$4~64~\TU5 4U~4U~5T4Y!44O4U~54U~54U5 4CYTU5 4U~4U~4U~4$6TU54U\!44B4B~[!4U~4UD~4U~4U~4$6TU54U\!44B4B~[!44U<~4U4~$5 4U"U#$544"Y!454U^!44<J44<(J454U~84UN!#%'+/37?GOWgwU;U9$%& !"#`;Pt.getModule(Pt,r).then((t=>WebAssembly.instantiate(t,{}))).then((({exports:r})=>{const s=new Map(Object.entries(r)),i=s.get("puff"),o=s.get("memory").buffer,a=new t(o),c=new DataView(o);let u=s.get("__heap_base");const h=e.length,l=u;u+=4,c.setInt32(l,h,!0);const p=u;u+=h,a.set(e,p);const d=u;u+=4,c.setInt32(d,a.byteLength-u,!0),i(u,d,p,l),n(a.slice(u,u+c.getInt32(d,!0)))}))})))}}),Object.defineProperty(this,"wasm",{enumerable:!0,get:()=>this._wasm}),this.getOutputChannels=(t,e,n)=>{let r=[],s=0;for(;s<e;)r.push(t.slice(s*n,s++*n+n));return r},this.allocateTypedArray=(t,e,n=!0)=>{const r=this._wasm.malloc(e.BYTES_PER_ELEMENT*t);return n&&this._pointers.add(r),{ptr:r,len:t,buf:new e(this._wasm.HEAP,r,t)}},this.free=()=>{this._pointers.forEach((t=>{this._wasm.free(t)})),this._pointers.clear()},this.codeToString=t=>{const e=[],n=new Uint8Array(this._wasm.HEAP);for(let r=n[t];0!==r;r=n[++t])e.push(r);return String.fromCharCode.apply(null,e)},this.addError=(t,e,n,r,s,i)=>{t.push({message:e,frameLength:n,frameNumber:r,inputBytes:s,outputSamples:i})},this.instantiate=(t,e)=>(e&&Pt.setModule(t,e),this._wasm=new t(Pt).instantiate(),this._pointers=new Set,this._wasm.ready.then((()=>this)))}function jt(t){var e,n,r,s=t=>console.log(t),i=t=>console.error(t);function o(){}function a(t){throw t}for(var c=new Uint8Array(123),u=25;u>=0;--u)c[48+u]=52+u,c[65+u]=u,c[97+u]=26+u;function h(){a("missing function: INT123_compat_close")}c[43]=62,c[47]=63,jt.wasm||Object.defineProperty(jt,"wasm",{get:()=>String.raw`dynEncode01d9cc1a928bf8p;nn\Eqq LiWf_qIB1av^[gOKr."u0!bM&EV$:_BvIS}fSo=}wJHWh6	Pc:XV!#I_IP]s LZN<WPj]-==}&ldj!=MJ)^"d3UF: s+={,Z7;4!i E[c};2zou2Qm7zy{Eo9:.c"bN_Rv,=o@KCS[rr$Z wQ^0Q\(=<'i[ fL.,{;F2GQ7{6%ghr~@Qv\H ?#grrprrL8N=}\(60bI!CPW}4(4$,@m>PnW>+7f8W)OW#mK'H$o45&?:P!>4"'>{7Na#~;ge,^#JHB,oerZt)-2M9tju~+WC~A5F'DP';3}ph	\O/?d6Z;L&Sdzb>AXo&>E]t\;z7G?X cjC<xb,_t>?*vMc(2GkKn%!vC)..+j3Ck?Kj31(7a_v}so> H3wx\T;}=}D( fG$}_M:\#SiS)	o.VM+nS4FhurQ@hwZsu(P<UP$)zBY4KGYjo7\A [3^Hs0+a<)r72pm)
;*h|,S3v,NQf|'_QL4y{kF_bn0Vkr K$CW$n^b.+G7-^d;91q{%^o8ZYqc]<F&]&=d{J4':ohL\v(jXb#,36q;w{NOw@~KhW$#C|p	AN1(z&)cm'mJMc]/^[iP[>#22g	=}j;mz_l)\}r{wgX 1vEW^_| s((^}&=HM\|X&O2S1=MVg$
4$=}? _x71"n&@{39rOX]Aqgi5CJDEtV) d;=*	3dR.kN{2.){t4}|N"Y|@4ub^K Z"*w+81r,<kyD]YQ2uA~<|(VeeL T'1{=}mg$2*|,/Abv"aJ4-G\;b/\{J"CCCC
\n+#Iy[|
!K;+r{
lqCp<aEo(~[?=}}] 
Of:R@+mG57#bam~~=}2U(2Dq.yz	IAqB"Nd~}~;4_T:%j)L=}7Zm9EiU0Y\X4	LJ@5g]51{
O%U)PLVnIg]PS/ dP|p%?	JI.wsI<wu+mNmWW,C1\V;SCT^Q=M]27B{Tw/%YmUAEg:MZdZ?7Zoi4QUH%,8=uZvFZ!XD\.snF}4mllx.\dYlX>z{whn?	4{K*a\
+:f[%EP'ixoT~0yZ\jW
+K>d:X=I
W\n|,J-9;?'p29=Ma+hzdnVY)m	[/f =vO\<=}'L>TT<C73]|z)=MF+[l,dynd2}#zS!UI1E
(qNq=}vad3%J ;=M~&Wd@x[P2\l~"|1 [!M]6>vaw_@q9Zm
UtP2Td{	D{Ac!	* q+j2g-\de5&INm+>+wg,!6>h,!>GhZL+sfjz9JtST	MLQPM=}1h@)=}jNZ/2\00{W~N?fu8
LB ;;7*m&LE8FbVp
!1li-LYn8GZn0^0o=MFP{\[j{HcQ=Mzq;+E@,79aPg|%L:$hW%qV4jpORX|E9D=M2XGp^TA! zwD{~#\gx8nXuO_A=MdW~\K6p=dK=p6$B+[ur ;!HW2qGW&2-e\|}b(b|Yw3;%=M~LIKfmtI{p&y^MwGAoAlpc'$UY-ivyzC)FA1gSBfpzN.Uy~?z=}?s#67S<; 92]0IPz'oII#*QTO9^}JY1G46QF=MA2[T	pb{67$SInt85Wz#Q(=5E+4QHIxJ%U2NdbyU*8SG=}y[ AGqM ByFPi>Ds^a'hF8TPylxet4ub6_wb(wVqMeLLLh&0N5:9KH[ [=MoT]'5b"=MetCp8c,"Rhvwo=M1e.=M,WmM\Y?K*_H5w#A&n,2z6&,'&g	+zo,|n&T}[=M36AEfF q9$+&ERvkq*:eLU M;#0-4	a61m^py&iHU@B^~=M4yjf#Y~FQoQm])g)p)eMia<*+JL	:+71'7!XzH0;${w??APnVd=MqrC-z4s<}~+'r>r%DvcoB~r-},~ofqM.wE^:n3c:3,=M$3k<4l.J=}_Nq=}G:=Mq~h,7hyal2yes%:%9]D_M	-?&,Nj|w'Cb%x^?=MTzrf53A|w&S=M~	3Yrlz_ XgBj^}5(vqoqo
gWyBS;3iN<%%D%\m*9aAq$K9\1Pi ^wK;(K%^{d"g#<p>>@K6ARifN
*B8:|o)?=}oO-*ec@qcS"=M
m]e|ekzhQ1M^mK=}kN@
t 1I* K7"dM96{[T\}q+12rlESK6yV=Jh=M!CNn:)l	d2%$:B+*3"4.//[2 y]udObrn0 bH2!@/26NR-KW!vhUuaq0N g.N'v,M0S9]_Rv:'rr%&T;E	e9^.%H,R#8x73D i"/i;.P0c Z#[\:o$iHU86w9KFyM(}Y,HHxmz<)TsYSFg XEx5jS'5VZuND	|SH:j5 B )X0")RF UU)-T@D+8%^E[5YmW4=}JZVAx&v7I\aj]1c6?)U?eT]Z}(:%gj(Xq"NJ,:@\1%zht[2L?YpgjKU&Xi//'!:=D_o %']k!lVuw7w_0<w [wl=}}hM_-0W.E9*7Q$:^':kW*z,;|aQv={m2j'"aeZ?Yyr.NCj?Eo*S/NbhVexHc!?u21@.@&O"qB<+lg'D~oUBiog2=<lbwXr6T&8Q{=%ZK!q@e}amReSImI!d=}aJXv{~5P_"b|cvo6t@HP=bf]B=}B ;	Qu#5<+=M]
	:U}=}5lhz/h:z'+lFa9xPms
J&oj*E=M3]f|Jw\s6y6?Sx^(K!Z@L*U8/$
T{RquRRNBC+?c &|Zpm:t
v	~K{q	4gD/lAIu)<xKQiHyw7_?(:|z,bP5iB+k|$UT>taTX=}.WR,hJd=Cup*;F}^	"(?WP Kk@w=Md UjZ[ <#5		(t1081y~jS4<i!Tfm@]9k2XIbjg X!I4F'cQk?j
20i
X8IQ0'=}U4%Z^I_I][Rl]K!;-ra$}4eGjd15Tr^m=}'v/^g2]usre!DHjJ9V=}|+GW#>Xt)V}
o5X'T2x=YYTa #_b/G	=} yb	N,]V%d""y.GP'	=}#St27I\+IGaPQHiM&8)c<~K r#ahpy	#CQ3s4,0s^@=kr!>x%dIt,-rzl 4x[Y[/Ig.NDnAmGSN*,=Mc {K>7]B@Qdt(G798cbC@ fx1hT'$~S I-6)oc#})jyvdL2	[sK#UA,0V%{zA!)09JlnH32Ti5YG)[h> kXO/RZ$S\N~pZ'#K6jE/Y*	U@l#m3+P udji66G@+2 x@w0 j]&6k{"-9vOVJ]f/d\caU^")m{FWM$ 4KGdJ5g|6GKLrdTEG0BkR H\tVgB?uQ~#DIA,uws6Xh~G=M5y1p=MZneiK6zcA1b4N[9$t"J232pV6y4(.
@dZ@"s
CmK
MJOW@V 	
2!n\_N*]	0MI8l7{}	r@ 6VE_J?%&N';Zb;.5u.kMoMV-0F5cgmma~%0&eCls:(@+$1.:"MN[D-18*96/zOpw=P9RV3u=}q ',bilHU,n}+vF8Uo%i@g,cFkO
(Iu;^h	t KHbf$LQ!=M 9M	 ^0JXti1RfRl<}f%'Fv'X(XLhwJ8PpXE.X_EP_!m[Pj@*GA=}]$ZahgPr	%p2JO(
x{G;ZeF~6{LPRijfvp [#"z[&X%[u=-P\j2{EbT09Y7U(l:hl$Vj=M|UhFKvby+ofQ
7Zbp!>,$H=M g/>3F#;$0c^$j=M
y=}qhz@41U?]t] ,!! Tg7=!=}
-9\%[H-<=M53Mrr)s 09^EHN.
i4qN1C:aay;zg{G-d$'C|9gyZ&p#
j)
?U"d65e33)*|.9aN^3$4v{6$i^S=fbc> 0*ZA	v)\_oF084. Ai>?H=}OE{VgHu
}^QOxd*p'IPmNbg	3Y<C|nzcq13|3=MY@$k)aad8f$[DW"3|MY"1_W5=MyCPd!2{-31?=}Ad(+')E{+E^~LvH82H~E\>n78cSNNy@
_(^Yhw]!P>2j00#T2Po,o
7"9/T=}O689;=}M<mR*^52meh~pV,2z(:w.S7dx*(eXW);sZJ%<Lw>*Ro#<TX0<z
zKn)!<1a*3K=M&]J;+*/Yo]'31)Ch>:vRl/
DZ9]1+^.{KX I=_vU
s2xecW	<RrB,5u(-(xv=}|N#j.lE..y~??dZMVqo=}qy)%l1UcqYZ~1jFvQOj #W{_l=v?3q$,m4N	x_?=MNYB0RU	=Y>O1]|G#i,Llk[U\N=M]F2W[s*;9ypGkQ3Pj3H3d;f!=}jf_;X.GX{	oT$f%=}ydcH):9%LQ14F}}rd)H1cQ#ByuF72=cQ\]
/__!R|w{tf\($?_GKm7+N	.^g"7m?M7)mm=}|$()(6gUvZ(vdk:k =M&U~|8?/~M~Xk|F%Lfp]W|wu#+M aZTAVjw#[_x)3mdq2,D~ 
Q/:.(
 na3	'RE0\g#,TicZ9UB{LQ$	q+
(srg$lcEOI2 :ZkG@y*n6BIce3]u'x"WlD6gq^TD:S4"Bnm!hJSI  =0F1 {l5f?~#8xXVx0Fu_ga%^[jd#a B+^h;Eq6Z3U9En%f=0<E|KVUp5b^CsIYOSv	.]%'=M--Z.N+Az5OR8xR/6^T-XNVTkc3$:QV3B	82U){ G:\[xdocrb{vo..q0q{lx8G0{gA~ +I8[)0by=}\'2IK+ee>M/;m0$Rrnrb	c@r?6fW-m@7^si
4]mA{{oZtBykUV
_zJF]^P[&6=M^F=MSsOBaZ3~MUV#+jL]zX(n~r;s.&	0NDnw.7P)*q%9P_wzAh1~hT]Gm:COFE_3?Y[e&T^[XS=>!H=}(v<^*U^=}Zh##1&X<?S+/kv'$s|[6'H#gd&oz	^b;Z+EG$~&FS?)/1,7?[c.%%['r{=M},p+i;6>czxlS8LfR0;9v;%<{ui(	$thc R]Y5.	{4Uh-TY-l/l M[anr@,5o"{JuKwi=MSH[n~[#Ev@l]3m)(
870nY/rNmr$J=M
X&[x)Y#q_~=d>%Sg=c"e>YI}B^6d0p(|=}&z\/M"q)$_#+h+qS(%m0pps[xAY~Kn'Z	"}$*xetn9t	S0."Q*/Cupiu_ 9Yb}%e:'fJA'KyNCS:M:UaAXpW(9;GgTDq.@Kv"M~kzvGMMcH]#*
Vgu|*8~!}wsDi7z/]U2j ?WJFNFnD&p[h81~?.+G-7Jr.k5}%RLMWb4
,>tvP1M:s&@QM+,3$2su|qiq=gihjA,a[%)_-BSLM%@g=O=JRmdjX]f<<1^HePS%Xj4[#W_qD[Qx
D"uWV4	J1v#9I-iiN^,3kHxX'dy;hS	{L1@B7Jn|Cf=Mm
.D5Jfe{^c/S5 f_Zm{-58?>=M]e\V!Ss*Qr'u5#eYRo 98noLZ]18HtZoW^o?e?6=}-$f3CVQnV	HJO+IwHk9p?pv0]A1QzinW=}6@Y1},"bC5e7:+LqO<DLD Qxe~(/~2s$<!$R2'=MSvrU0/m.[A~^=M#yut>)k@b@xD.IEZT}j2 +4UjzcKkY*j.w5O1(xaX3 6hy_dP8M.va)5j/!VTa=M&{BS!s~2z<
2,/h<B"-2T	V6}=}Z}?U.69YZ'VA	+	cTS7sTAO}Ab6CDil1,QGo>{G1|"-5!|bcC-*{*/|?/*|*0!m{~e=zxX!rZRfV* A~ 0|Svh*4!=MC|Q|h'x|r5R:Dn '*s=46q_]_m|=RNIVXQA,~-RfqJ:=}H)d&27n%BI=k^xEz|H61ceL_]sPRm82Z	vz]-A,@]kTod^XT/Xz  |7R}a8 0{G[_GRgzY9 Fj!-hRHR9JpY0	\s^Q:,=PQxhVGP)CN^R4H4QDQ/{HfW\m2,osf<9VcpjfC4>2sqxw![@5K=Y	Q>_%F>[$[pIN5=MvQ@]CbjIh/N=M-i"#jw{1AS_9P{=w{4o'U~bYl H@00oxhD]}Id'+fL_	flHwD/V8G&x?a6@p@ HY[i2;=}Rv#/"k_X:_mv>WPzqz (j-#*zs4y_wWp=}ehA5M)\|8 ?nR6*hj$+J kF~p;2s9W]$4es$X	@:HV	*.FEsm!Wr}mK!#?lfOu#%-4QH]^bhE/:XB85^n{AocAM"Pm4+#X_T4+iAHk0IQJT(_Qzq1\	|Z.S]i\9)cS9H]k/TcKNp	Iq#5(Oeo2?<F%e=}A!);@eG d)TrxsK*wHo.DtPerG-aW}2T2m\@2@jXhM9" #mNe~!c]	0s6^r 9E2B[:&b5/<-M)9;c wqOO*~vTB(;#=v:zVl4HqA*Q?d]j4?T7+	da~,/W-W7bC5G &)lq~@4t-?n@fBB?"3L5 Z.\^y> h$~?ZN>QGAh=}aJ(0J^ct=3MuTB5z4@mbei3y	=}[VlnMU{$SL5B{dkQ;4R.al8=}(f26G5QeG+&-R4/oO>:)r[="~%Lfc}t,?AK=MemM U7d^kshi,F~FAV3?IGFHP3usX<OJ{.G:A<j8efnAA2M,kneGXY-L;]wYBE>(iPXHb.)2=}0lX/sw^9Q;u_Z$Gxi\Y_2soH|d8tQB.l6ldkumi<,	*B
?F}.Pj)M+2gYUvfg-1#AJPxaVQR5kI>tM/I#Zg
 ~3Y<AiH||M JsUq)o H5[[dX9u[J=6A.@7qz+5*<HWC)ytm }UrK^cZVfuX:ng:MZ=M!&		*;S+=0nJDm0Q{}[:RC@(}/<@0n{!l*f=j,rfnnS
z
oWThHf7 <]}sC7K2S=M'@E%*s2/HZ5@y3*G%BF/#}C!8=}4#N7jbyO=10
>M=M,h$:w0 n=MM\-E'&4<*ib84qiE;SPc[e;i,x/4^%z\)@j<=}SKmgB}[%#3W<4IY@vSo0gz}Z@m32t->/h&]'U=}1sGPtd9S^\1!}c-((:sRJs5w6X>%.0;\xX9d"G{
ZEdUsohWFo| cp=}iv8+RCN(|8N($Nx0&uZ>b\=}&Y$}} R=J\w)9[HRJ27gv4:s"-'{@!@)IU1=d'i=}B"t:"/U6	X@iqz*h8(Q8NRk%>nEY]) v7(o?^B)0~NA#aq?1wt?-n{2c^S**	D}^AfmgLk\$yX^& V|2|;	^|.sQER@]/cLC 4S$H~h7j/c- JJ.-/=M 2uAL';NDs4H]t$8G63Cpm&Pt(U'(GNh!P )-XM d1{@=M:=}BTBS/$uA=M0:Bqm5:A&dfuMFs \6Uf;V]HwRC'2P"3p1PP\L0x>2*X53vgxbNWm?n",EyFEF&cvkTWCopZfudAfQ5/R	>uB'*p%Ky IY5=#r>4Dh1=}	;jom1rbaw;(uwZckgz]1Tz&j})es>qUa+<uc?[+:,4="K3>H4Xcg| m@^cmF]\9e0nt[sZSNf4IolUVt[=M^RAH@A_xt@_x|8]h:"G2(qq&gU	F2|L#)u@.me4/Uc^)>QR0Zlh")V\r&b%WQo3334  z;,Ltvx-[(7{K6*bWPRO*gK;18zjAi*;\P2"x9~b2$2YU
hbGBE\g}6qGfuc{w"c]/| yPu!omScBwwoI<Tod(~
T8oSY/$]>(mnCG&B@""du9om)a(e&r
q;tckt+w=MS!6Pv\A$_nf?V%;F^=MK3f=}q6?q~sropwATv;*538$d3{o@X;uQYE8PDUK8M V4WD"GT{"1$Nm#6+6vI
$8zC1?DS91GCo5w]
D2T;Ypyiah92BbQ|R]L;^HlL7"Dcp%Kc):b$J-+vFSJDWU=Gtckf{Az7:fvR]> VMRU3&6M}&VAS9poshyM,rA9\NMO+f9*=}"wc6]_FB<"$1+l (v:F bie2zTrwioY2 K5+9OX
4#$2+k,S2BG[Gds\S@; 1@)35N%s=}r(6[d+s(-2aM~699+ &k"7%7gPM!MHl=]rTXVk"i?;^{1ZtORN>g9nr=}=<x>dJ,?pS&bow9C)>Y5"0iIF)kdCGhV&,{*$[eg^_Z=M|}J(DP7eO?NCpg_oy:44-!m r&z(X,'
BJB> G,FF8+*gcI-4>8'N)"5i<C&I=}N[p4U#go5@9=}fj-G$[m5*:S	SFywQU<d]gq<v<'QWLS'SJf,9uF=M1edQJA8euJKX; ju0pj$?LB>H^ZDwl?KeA,y_trrLi=Uu)WqHTj^J*+-\~ay56h"ah=MhW;dOT].:|Jgm](=6FD]?4bjYE9|hwY8,uzrGLs&u8z"4^xk@ jtm)i3CF>^?yq]MLH]GTTn9NqqmQn5(^--8"{0u5mHHkad! 2A>TO=MTVr2# ;2ZffLF<DN,9iYRU,Fk!&+6P	1Ef;V,E^:k[!F4'u@2:ASFupG)m	~L+HxLrn$Knme?pOS(b!YCu!)OA0Hks}^N&Xzs D?qG;jlo
_nR\'zL^l4Bj-CW6W!8=}mE?/p%XfX8#HIMOFDf =Mmz:6^	P+7!gePXR
LF8f;sZ%&;L QK82x,9]aV>U(f)m?HUHMoW;<Pq6t ZJd1]}Tu4
PW%>pGi6+DoBw	4Q{(Ia$Y"[sRDw3{Z4E3Ej)+o9Y&t5YBEOIuLn{KrGj>Og.HijJWpBE{;e\xPXSnf1VIV{u~~=5R=}BpL|?klJniAyVG( --=My4%VROTHQ_[g9wcd8Oyt}EYhx4Y:YD'	H9DWDHl@.(TkE
HEQ&\YJ@kA	9fH.QA4iAT}rZf8/SnA=Kh?FjQLkCFFVD;+:Wy*YH*f'_FYVAZ)E2>m3nsh+Gd0Xph0{K}bJea=MH=TS!'e(0^MnLInpRxT{!_b:sE6-x=}^yqmF!tY@=}=c%K[EE:2)xA[NV>n=PJ^DH$78tGPTbjEg=M&#Ak"A=>LQ</cn=}|IX #]kKu^ ;*	1!BrY@xI}%3!i;sV9A_jQA.[?mn cKb=U.(kD6_P<"Ks	nNjBZV5M9YK4g2Y u=}4r~}M|4pg\=L"pP(mtiYoSM^Zp!HkWH3f@T:n@Z |R6m*j>ZQ=}k_~#T'g+m1M!p*SM9VBnT7Hs.k{>Eqi%a;rexyucJOv-MmMT+}=M"=M&dFXa{d.;
xMl.WaHT=Maj=}EV+8"/{C4r_Fx}=}q
4\E(5!3[3#u570Cv-(J4H~n_,&nyUJ'3|'H~s)d^v^/"1,BucGCC3E VI,dn[&$jNn_^$YDY|4IRz*@t,-S{b;$@>.r$?r**7 D[_1}/L-K?-bH3lV	sdw0X>-<q#}R,]!vyzu%)7	l?~lmA}@plUfZ>xf$6V}5=o>ei=MJv=Mb-SAU\X[o"z7!RQn\$B_f%-E*)$<'.f)'.Q"*>;C6S(MD,}XU0e#[=MnUgdYJd^X|e&=MHy@p2CcCj,Dj5pTMnZT=#'$A8,G%oS]s&iFS4TTq@lLEG5(=MWF:4!P1k}-n'rTd) hoI~W($5+|fE\?ksc6Sc}2'nkhL^@JS#s6
5jJg=&{<C5SFZ[ExOV	M_j/%9VKq7OJI5hfhMF
K?0:}zgB1kT8')NU yndzrv:#"(K]K c*]Q[$,=}1]dZp_bit;@%r; 5XCjFu'M6&L%CTA!^+Y1H^M/rbFl#B%F=Mm~~z50n'=Mn?.86n3)IL	03=}saaoDN2laNFE%3O)B|~26==MbJhr>M?Ao]z_]/tPH=M8c9]vF3N')6)L:jtUH7;bplF(B/;=3r_b\1*,41Y<q=}Q<sH4b?(q=k;Y{6_[Y!.}dQ^zYFoW:fp"@^AuhT>!/2cfNuQ%*%]#D<}HS_LM}agRE"O3jQNS~"k\?cT.z)K
wx^vv+(h"bg];z1Ak8d*?D.f?S1EC	JyC&)}37N"R~TWMb{KvMvQxD8K59^~Ifc94S'8:>5EAT/sBy.&Fa
.(g0U*Ru1LaLx5uO_=DZDV'T5l?R5TmSm~JFI7Qh+GIv5%fR%lu"A!%8H0fF_s~%JNlr,ya*/3}(cQxwc<Nf93F4!Y&r#v"a#\+?5<vPub85~c5?#S[$@+C7PS[>4"@:3c8t),mXnY;9mPu76mnb*&'t%9/|Qio8Sx$"o8=}[bT-Ut|Gz20y&e/<eB^TzuW'4smU5dhNYO<j))iAe9w_~MZp4N?J*[G G9,SL=M*(+Q5~]lTMe6Tf7;9?U}miIx^+6d-SvRqZv~$T{A$uj'3%mu9>{D'6Lo\>U9o9\b*LD,T_?p<S2S%x5h=MHCXjJ=Mmrx7Ks t@/
C&n]V
j93&Pb.T30}.Q+bgUmtgGvq#"ynN SHR%opUu4RaOkD&}D/P8t}"NlMAO=?zH%7
A G+zlhiHlo}=U_!Rb p%=}e3f5KwN%JT=MBUNfV*AT%MlPVs?f;6%vPoz5S@cC'NHr&!DM:5AY,BaOE{M]{T'zU&=}~"D"!UsrJ% **^  *AF)?fFL8*Py[#Q'e
ECRy!bNqO ?H-#!6x|.@(uzJu@5w!]2:3\;1FQS^MdcF^D!Glc]-}dcJ_*g}y%E1OT
_aao_>aGcq35yWO+6O4j!I>cgVh ?:;qY"69n<i	E][{^]&E+dv:][]:@"0);Un+;72;O>5{N&WqqpMetFjW-=M	s3G5a{=M[B\S+C+7x o+H,b'sw!\2\u9	;QIu \>5zxF #m4!/-txy0$&+VzF}<<TQ*4U_l0<pMHO+b#bM[D}c]ql!hwc)nGYq=M\As>MHwSB]~O='CP?y=5iq7{%[3 1nZ	Z-!0X>oY=hUsG@3~*w:(oJIf=}7R 'U&N|yP#b9cpTMqQ5	Dd&po5iim
:3=M1]R$1G0y/yY*p2RXB^f[S9{B50A(ODiCz!~x$pP wgRJ5Qf#IG.I pN/1&&q~(MbkbM;jD|_R6kU6[w.3*'qw5oA.ECJ>(IF{"|>pS_=}h ]-M<o);G:|GSo3cYY0TPh9ba<k2JD^GvbA;bVT {%_6&J|Tu~3{TQ K(}kB5+@4NTK<&U_1(aYvyB(xG7Bv:d	Y03$WN0|]:	bm'/5o:v3	27d/|"<VJ>SeSVX5q9wnH=M@BArSmm10"1( 8sD,Yj[#fbIVvW6~s#g}QC1M%#*Y390p^W
9qOkx$V:+~E=M\Fk_4BNwr=h,w+ ZAa^s2S!".TY-u"21o/Mt9G*n=}=M{?wI RF0Cz@
9}JqI}Wr	{62NTTBhlsn_Le'x>){6fr'$X2atOSbO:+"7gW0FFWu?G~+9:95?Z;
sVYI}=MY-R=}g\M+[jZ#o:0V{_fx/4
6Jg~Pd>BP|#o mU*]*# ]6rl$adyo:mc[za<h^*A9. 80qTVC=M=}#dCFUx?T~jSt  /v#
'c"4q3{v^:k3]z'gC?zS(OMQ}G)'=\plKj~QbW4Ou8DrL./?m5Fiq~OJ<j*klgm\_'v+ 99eN!Wf95DCt> 2<dax8d#wE%bZM?=ts?kn4P
vLK-@'Nom%4	 GA%p{nga_n'"a!,Ok?CwplfWkguZ@K {>e g@}Aa*jP7Rd|u
%l;a gUsayCma-Vs2p(K?)^p&ae?
xICVzC"p/;:dUR GSoa!wN5	"Qlou+fQb:e=}oy|N8v_ObD:N+) )
dwPk.|1FN0km\Z'u#*1M 1V	\	\f [!CG}G.~{e.9;1A=Mc@epr=0p1hV&+]4=Z pc5"i/a[4\eQ;YhE&d5dbgiU?NeSoK	/amSJE9PJM
nmsXx~	?BCOMYM_&Z.hs%v26>%LAl0&',N$*|+<89]$vb6XPHI*aH8\{4jUpg
c4VPdTtu_z5Y0!@Y6/v.cyTK$i%uQG682"u(L0'/D
Xp2cEQY$fs+f!	rZB-Vcqqa5QMgSU?dZAz  Dy61%+r,_	Y([ %s88skh5]Fnbiw=}O64?vd}GU
!m=r9^OlWeX 0%3CRIJy\&^!Lo=}!^|Y(y*T"ds}]U/|=MY(g-w=R=Msw(1fA%x/t'^~e8I6f9:wt&bb,j*$z/*#f9=q].5\59y,DRGgyN1:[[}#Cz}Amc7{U3=ccV(w.,z	8lR|V-M
PDr%t3kOp2uJj_=M
}TG;5@Or9l}/Zu@_/m5e(s !vrDEj[v4ng"n.SFi }a>A b&xahBFFt =MhA|7%=}@-&&F(,h^~B.G=Fg_7L.>z^nWggwo1UEOOI)_3P1c
U3Dj$(;=Mgo6/$_&B===}bj;~^2]w-W5YDNE;U5?8cf!3>me IAlr6X^S5fV^m#E3<$jncqwJ
6xg=z#\VIv	 Y	o-jSO-O;7w_MbwTKCaw46N|*=}ys@F"5lcvb||=}' /5b=.3wL~^=B<X%gYCEp5cad >/#]c([(QUyLV06]X\v9C]5dD ;Nm].>3^2'.")&6]=MjfFw7tcFO%8b|yKpFaH^[*iL'lhBy><+u=M~I=M=}	=M3}J<4co,GSU!I}6X(B_CTIAE)Iw;% C?=}+Do1)}*G<]q*N,_DF*t"|3.,aakNe@n=r#FW;{[l^#)R>tHRo+qBrO']Y}=}mL)sV UBomP&"mdCY)z ?c&u^Y7~L=}{	tPbLfH=M/VR-MtVB<[vMy;&	[297!h28dD21g#t&4kt%H}o t#887k.s.v}&R'^Rwx7G7}rx8v;JOHooc>u?I:nNA8BZQj@Of_1iX	Eu 4!d92BoF MIF}9<t'r"n$u]a;o)z	[M2vBMm_tY3
B>ykC%|x8/d-z%q"J-RkMUtXsAJz~^wS=} P5*^SxLXU0XHoQH(LZhDSG'v=} bLQ"D_Vr.ME	m	Ueyo!=}&#4B	_O!V-~cZ=mY=}O'.4j6?(g](7rPeW0! i?RQ[,VpS{L(M'hXMpfQ4q~@l=}=}[N.@=Mf'IwZI9
sCMAcK535YR5I%OM4pgozkI]a^@{:J$IA>h"Lm1HLcR:N:oN;(5CK=MilOHR/	l^3r
 lj.'procc-O~cw	{Yjo# O:Z&JIerTG3S;un uz =MBoE#6+a~z,8nZh:TczO	<_  
1~]b{;O@NM/a;K6PRH#KA]k8^@hT
Pm4Nfr<&0~9Sh-	C{U		OqO3(	,t;GfZcn%w,~XowymSkR_f/|x]/*PNaYr{Zo&4!+!I hzXLTQ)P,d~:Ot-g~&a=MdlhtGV=}1@DP-gnd*]6x6_:%jnIkEcz~9G\Om[V>S A=}iqg]emchFkf#"GUipP*T q@?y?~.=u3U Wt(zVrHQS2ZsXs@:|#wxd;u/Gwii8\;78nX0XLbs&@haxiJVAhy)=}'S C#*UzF~w7h[ N^IJI:'5Ih~9<5C.O=},$:rjs+vUb)MxSHiA$SZ=w|h;(ew?1n_rS-RUWP4ZCVdn?+3Ypaeq(oe~9,d-aU4 C+S&25qQ+l@Dwq&ZiM2Q]x/]ui~__M\MUTgEl7rM_4RI @z2h%n~%ni@r_v8^lhn5,=MKx7}	!1|
h3#wpX&H+a&7	>m/w=}B|MaJ^PAC#G]N76c+(z%Q1Z[m]o11	J~fZp#Q,nHd)J\h\OSZ/|Fi@:G[
 ^K:T~7_8>&#C:gDT:4qg=Nf5K,8RCw!=MY
Q=}HcBVi8pML<F:m[*0<;,T7.'\QibbD1V';ARWdQNCJ,>@V];R@w4jwNo4JmsA_0<C)eHf 5Py:+P5{RyF,=Mv54!hrv{%/h  8
qtWd/=}&/AJI5Cr;~p8Ve=,B|xPL,&6Mw|LFGv Z<23yOvxf2NR]SwZB(,Lw&s,ZRaGdqRP'%No%U>gn^nI%"<uZ8;UX)PHg{3V.a|fr	]! %z:)[8MR4D3}(NH<yk9+Ef6'1\R	=}J$+Q}n~t,@d4n$u(k*W,]~ik{Q:YtpuS/[H:=M7LQb3	3
Z)9NWH nY<Qej{ 428gMm	GeE0r4F4)=Da=m|z=Mc?U#1b}+gh~ho	&[eyfYg$&~Y d^]z|fzBlV<Dk*'G',Zz]f5|'nsO^A	?v7|{"\YQW"Rs.ww!=}Nj@=E| .2qE&S CU:R;=M!C394)mz]Wk
>p|	e	FjAP++yf:;kdcs!0-r,k7j qGn9SCEsM@@]ktD] |gW}?#l@h	C!
W!@k8^Q_=}W@:]=}9Uk2(;)xX$2(EY]DQtvY%=MdONoSU =?]zc[W5>wo!rY[}s+=}x(?q[$KyonwCm_Z3]NMo s5-zo7gO?*P8/L3S8c7w\v geNA9uQ&LPN9{w|!/>OGF WWiW'D>#R(\6i >Ei>iMP	a u66uF9=}cXtd+A<+0y9_pbx30jBGqs\K0?QTI K3!pLQ?1:an"Bdynm;uQ(m 5waG.on(LXz{^V1P:gRF5+7A-"Qku;lv7FB'Q?%1sS?D%/yWW5 Dv:bc"_mIP'ijRLoTCmV*TXQ!oY_[nkut5vT}exGHz2Kz<D!Xjge$No"hLl~Kw!u	I1s.y6b"3#=FR @f8l@U3u}y1~F2 O6MFc5DryAn_YF&#
:;]&[ui5f+Fd
%>"e{j]$yI}kVmynzg;;(keSB'5w	m[FPA#l+=coyM=[w|9o*}HVpD6=i
~mu&zWI{.8zhST2&[ XT1
p+ UL:0hw6l\Kn4s{.;	)5HnB)Fn55(TrMgUfN&jw6pl^rR%7A~/3"HDotxJv&VdP=}YEt.ta~CXJ(j#lv-]$[Jx:Y\xN=UH)vC	~^KN^kBR^Y^aAPMSBzxj)A?s(Mri$R/>9 ;!kN].amQ2"F.wE RCsOU7ea(%T>{=f0d*hQ3v,mr(~L3fMvIrrrrQS@wB2Sw$\<y0 )=MyNy/-qX_	Ql>gladp6*==}=}=E?Uo=}1=zZ4U%=%pi=iU!+^!\fHqeAJU"RQ(	=}iKss\& D:tbUIJ2OurCgCC }@CtECzX7+$v5k&8H=}=}_Y?
'=}~!iHJev"\QKsW lI"4sup	:u]nXb-VF _o+TA6pdBZ{B<=MkmleoPEY)uZ =Zv3N/!_rSl,!6W)z~;TqYi\YBNPKIex}x=MkN+-z=MbfWFu:#=Y1.Wir=uo@b4GlT}t\8C4'c,yJSY9QN4	#Y8)QAr4\J^v^}A,Vb
$B%k?oB/cvWxcT	m&JhYafR^E3jB{,KB=MjN_a<;!G/<T|h4A:1]|tf9vaQy_@(=} Ri{i=}>=),&(Q2	v6=d+&4lX%6i'YSVMJz=}QP(jtd}!bJ&(39kv|;2*HMZ?;bd7@	=u=MJVL1'Q?=}bi2e PL"ayO/knmlL8 	Bm+WF n39Lod\<&D2@\yr zn!*ZqLF"
=fb9=CtDAis=MLhc[@n^CIrv(WgRK>j]!\SSjre[HOh^L-/n[0&PBI8 WpR9;m*grcb5:.}nJ/ >=MtEQFM|T:W&Kk7okX$q	u!jQ VFTSv v7
x=}xal$cVHR#\V2.IGwH9e<o,xO~83##L60XC/SBKkY1Zo!Ip5k[g.5G{g!@gmvVK^MADrTr]H!Di?)gW]%2A!2f>=}=N3;wj"Rh4   jvrXa*i@TUv{E{=Mb'}qcG-mQiW\eP5i@0)#X1Nu)K'i\gGJDr~-+VaZxMPA."0~ #5-ep?
{zUR^D0wiK_}Gd9,(;$UVCuf&n4h0\qM[zL5G\jNq\1@J>fvngt3:Q]eW(d5MWQK"qW5dmG,$5|cJ+KN"4#R0J#:c"WEm4!8M3^FFFFFSWFeq|eU6VyzI$TTk L-~=}]Bm	a9H|{zVGFTNEFvpkPadZb1Y~1^fcL_4QaQ^hC"Hxt:}+<K83ZKpXY~(SF4O)8UR-/..4xJOmFVD2R!K!mt8[EZtEZZ8ZcYPQfpQc hg=l[b1d1Yrqe[cOAgZc^=eM!^!c}!ZaYg_jq=h#\g^(}f
pwt;KAiw]:~q\ !'C^.Qg]~Cg&baTkBj75ZAd=}%69X]Vb,dOkD7gz!a]:Q ]wUXlk	?%n SX </@EW>%
PxLniSq'9S!!a1bZ]h=TwF7lZ,*(!gt!4kKn,5bSTMw~l'wl$,Y
fU;g#3!$
VkquF11pGplnwo7kkmpnwogVmWpwQ#~!_Lz>f9'$<1+9$3v=}o}-
n~JN!<k~h2IVP=}+ x2:'=MmrR)mL)BvRoO|4?M<oC2O\&xxvs,~PWPiwVGAS,={O,=@$Lr$,D1RnQ'2ht=M*'\YY,bSwV?xVrPrxV]Gb:UGYr@jl@ =De=MuU~1kXmw$n~de|<m9Z4Q$n6K,U)b~MX.q:aaMhaK\Q-g	1SVWo_xS8w2WO8>re$RNKXR%	<
a: a'uaD\c]QB'=Mn1;GebN<
J
=Mc(4a3A^c^% D|_fG5aCgKzVdD(}QmDl$DTe/U^J~q&"y]nzzSZ	*'a	JZJB_PT;&)&pfnJ~wVZ;@J&-h AEvd=O6N;(1S>F3QHen=}\Ek
swR#O)eHr+NqnKz\,.	-.y;]Z9	{wrs>qzio@_y4f2Y?_=MR	'n&|WnTnh9<<F?VE|Y=}-e|?e<i*@
eeI
| gp9rmc{!XT<a}eJ
AkX<fXFgFFFvV7.6r2JD_AwoB&T-l4.Y3}b Lniy|Jsz3~{=M'C:Oum$fi'm_*{F]il=M.K=MxNdpAs.vu,F=@)#^.fq}!KF.}+fL=M<=MdKfj'_xNf500 Ca|I%p28 }7"3yjv5bM@;O!fi>V +}^$p*\tiK_DN:EU#6]-flI#cT{\aaXXxd+=M#}=MTGoLPrujwZDxI'-O^-Z+KKpU6[,v#V2]hvPjVRU7fT|X=plKH#CT 8S,*@f(uQ7AV=MNIuPZ.Y{)~)6d2zz7><Z93E
i)9}b!BlacB;Tj
Z*vBUY\V( /L{LV:DLi|NxR \J4x
uipY6k>~!rNsL!rgj93gTfEQ}@B$SkPi}LIv Fz Rl<_c8>gw!BOL4=Mt
#~G!H*+$b3VdS}}QV<W:nO,W<WS\<VE7 r(R4t
DL(I=M2LSu<PIhpEQ$! ;=} Ie6&Z"av&=MmNt[j='hC xf!b=b~X=}m=i)x[.	;v!d[*?:rhvYUqUq/}QauD9h	Y=M=,TgR'nE3gm$K- i'9?|X$iU
LK~|dJvih*!_Yd@PUJ!XQSv$e:|(t4pBZ@H[T!jlJIwAhad	8chcvl7~2=M!<MeC]QhF:&}=42a Q&\:fr{,<qhVfz"8hm>xHp_^'^wzY=M^EP}m!\nQ6fi.ua[jXd!\%p9v]b%=4XYxrWy=M\Ebes%+ jr2MR}YTR s
U9X	D>s=\P#f98tfsTDnLHJzz_*GlROiSqp<_UdZLu6	.@ZMxJ=|.5DA#= mN[pVe"8ieXg=\D;xS iT1EqhJ(Y,fx^@#LXkj(9w}^2++%+\o!c;	7j[jx{[iMi}z>FCzjH^qG3yV %OYesi'n4w	&~^=\>j(% lq"d@*t&I3kP:(pgVmZ1
0jSj)&KbF2F(<uWX3(b6PYU8"pDYsT}%|(;kzU7uI}J.cWX0|WAqC26o}#&YuRTFjC*N.+-n(.-nMJRMX	IIR#"8mM6\mF<2PtxpE#%
'~	\z}#k,	Fn.uN^0"s!gHXM#Z~QHfl,f&'rMug VKWZR\ #HE&}	,W8e
|NGei/W{\(@]B6o(/,dl)HJ, 7 X[cDE9xR1@wGwpiN|rE&D=}M/hYJSU1=M|ScVG$sT-;VmV:)}"T][*&'!^+Ux,[?.p?hXW1&fXp)*,pjphR=5jrW|']X%jc0bz	bs:#:/op	L]*g)MyIlu\J+c3e\r,4bc=BU|i8Pq,|TrI[s|a{U8RcDN)qR\Lyn[]obMatI(X<8j^Z.02v>UU%NUbVO7D#4% +Qc^vRv}e}=}
Vv8}1
"pj=3qr  &we.,aK>oxeC,Mm|=}"	G&up%JM0,7"v~gYZ{]13GMO1=b~rsH)d"3,|\SFZ|x)is
Cl iraX
KfWPsfzrCAc|	qv?B@mw=MSTvb-FF__+n9PHa:$MVwy4j[}I'JoJ) q:'oXn
I!]X8a98'u\=}OZ@t	V=Mu6"K +$M[Y^8L8d.	rZbNGTWT~8SZHces1W\k?q3$h!W+O4C\mXN$oYc/4?W&H<'TG'(/aJILAFbY2BUE)r5|<(%1y>EQDv6uWvYp].,q9P3QcKT0t!	Or9~W	X1xgbwu/4?D oG/T$Qa$	|9>c%Yh-qPo vF*VZ4^9RV0$\|UD$P 1oh7ZYc&<cIvl{ +E=Mr/On0^>nR+G)!Pb~Xb	-Ck
lm(#"S7feLMVk*w[z\e;OZqHwugZ*(fg}QXVDue7WZ ;:LNhIjh+4,DS4k\D'+1~LDs#([BpX $z[]RW"]xyu elds\mIR2Y[+P+qf0@zU#lSt3L :B8]AxDLqGv<+ixbBxF3 7'IfQozhoZ LvwT:WdH'vGe-Ix7iHl8@(%[L~<o arN[<D&pNMy3'w2T_-[Wb1Oo4CwWo"-#yHe_MlC87DtKzS9&~^H>XV1HBw/"-\H]rT-E-|UoSF6	;}O*KvJTwOTX=gmMTLd (7x'\Mkt(y6hV6.Z;.lT&y QW=rckMb<6=}4=yc 0~_Bi?zu\;Hz v[eb[D 69vM47%d49,oDST-T-0>y*%:M-"4:TEu6C,[}>0%+;F@PhQmT!-X|pIkv2
#z"X=M'fL/mQ%15tUIO>!=C-["X%a3\(XOvx'kMPAAlfO|EcuM._G=m,BMky[S]To2t^[.
0S)My'OHOR5Ijcm.2u=M:i{q"0LUAfH(G3K,v[#yJ> m,[KAPl{+.W;'voNKgr~R
7](@cm>Wp7hIvR
.lG8o~=WW,|z3
.[q*NvbZv$)T9d#=M)hs-VxuSAb#=KjZD1-$VW;C&b>M]i1)hXpY?*FC/RN&c]OC=MP(N, T]=L<?Soldht6#lC\_?=T.tKHvtA43nZ&H)Yy|S0y&;8w<o\y0G,jN6)R%;LO6tQPe N=M~9=MLq+.v-w2SRb<}2){2aQk[B4Sx(,If@Ng|]WIzCtOsMC)-9~x5)? tR).&hc"=Mln\==M6{X5x+sBmdM[#/@m=?=Mi^? %6.s=EXsGyO5k.%ieX\\?_%AUfgN+^K>Hz=}xZV%{ SQ}P#\CocC*
,\yDpj
E~"H%{)->CyssxX=<.5f,.jn[?Jh0jsD>q4z&=yv8m;a5S#a7y3IgNYy8gh?hxEXyjA+q@M6@XBj.O:PXXrt&.v<{Omm.q%=MZC)-kFAqDeL>[CXgwgC>,[v|u&d M}3	
 >{&C)6wB5z/T^Z&v!)N<lE]MyCRn3xmM<v[3&XcZ(y)>}~
	{	ai  qb[SH\HPV&H$jvuwhxP>8=EA0%9ub[4J;
JS=}e@	+v5f=M#s7}Jx2W&wWNU+"=Mb[|Oi/qYO$3<DZw3=T*rc=}.:0]HADH"duYR0@yf[j"cIr3Q7<twoRJ2
w29a(.|Ep3u]eY\~#t;1Yw< fkl@1aM<Z!MBFBukL(R}5g"9We_}^D"(1p$ESl{MDM2]rOpLWVFHl(dhbRreUr+#(dX?SqR=MTz7k.tH|\h/<:4\gRHc<=/t?-Qw=@<=}g.{1q=JXiK0A4]ns}*?PGKp
e-M-Wcnj1*5URsQP;\=*mL1Yt-bxS%X. UFiL=uAe10dNLQug~0g6-DfS#xdf6t#?=}1fpP)WV-},vaM?=/6:4^mwFvxd"Gp9ZsUtVsN%(3@2?q
*Ze&@ht0V
Yyjdh$i$=}wSiGN!~|ZGeo9.iYj7k=zMaAay GVnU%jxI\"$UPH79N1%K)B8czR0W.c_  -ruJE%OWRkk dr]s5=}@LPs ^(GB |f/BJGrg>OSmfKl-t=!g=A_2{~F,Axaze'F5c9!kP,5dlPK \a:=y}q]ss3>hO]Vl&|WS5!a4Z%7AnV@
*fU6ry~arE%<n#=} $J=M|MUrr~{jg^BCCj=}7~ko6_9nzO~XY9=
R!4;;5XBY|~!^Pl|a&@V138:f%?vJ1sY{t=}lNr}ft|F|N4B^LP4.D;Sj3xSvKRK>b=}ju5l!dJ&V=}l:X10 zLYx+	.xt,Cy-D)ou$pLcml>908f^JUg(a[CVq=#8[?qUL0J"2nRj>X
RmzKEC1G5h[K|0i3R*
4ps=}m7 #AoJ"Zl[E;v%tPq;mz%vD 	Xn$(EwaJg]5S:h1Npv v NX?3A.X7Ht^s#E 0p3&rCZq0xS|g@o"Scd?7=vp-}PLORE5$VB;cXa&[5ITA+/[gkpC-B"
 ,m<=}fbFS|&4wg\X2< nwhPj8WLshNG:4g<|D
"crh;MWT=MH9ch
FyLE(FUP}qA(?PkObq<
u7h2-L"(N7>#!V
DdPG;syTz\g{bTVWw?F_1]7z6fX1pX>COVCq/%/L[3Mgh%iHk+[p-D/
g%+/]8|<4iB J}! ;]7qqBbplPJ
gF @HEFF4FtD6NLMS:-ApX=YEq8*X-^lMq#invOV xj=MHb-[v3NvsfG(Oxm27dokPsc^=}CuSEei\4'SuGMR>*z96S_eP=Omaw]+?V=*6nN$	&lC5Lg0Uh*J2.Lxza$ :'Asr|aA1u]N|vb=FU2V"$xjd/+H&d2II	PRA8sZ[}JVz-=MPi.LkK3Y;~YY;~Ptw=}4&y1q
ii"p x}6;y1f%B.y1/G$ELm1!t=ppf/&?8Yyi	d?P6XJ-T\{OufO~Z8K$yR{eZ\]y1S2"[Pcx'I@>,l?t;hl![!	b_]JRUk}lV  W:,ba_2+p=MD7wW"231[^7`}),h.stub=!0;var l,p,d,f,y,m,g=new TextDecoder("utf8"),v=[null,[],[]],b=(t,e)=>{var n=v[t];0===e||10===e?((1===t?s:i)((t=>{for(var e=0;t[e]&&!(e>=NaN);)++e;return g.decode(t.buffer?t.subarray(0,e):new Uint8Array(t.slice(0,e)))})(n)),n.length=0):n.push(e)},w={a:h,b:(t,n,r)=>e.copyWithin(t,n,n+r),f:t=>{e.length,a("OOM")},d:t=>52,c:(t,e,n,r)=>52,g:function(t,e,n,r,s){return 70},e:(t,r,s,i)=>{for(var o=0,a=0;a<s;a++){var c=n[r>>2],u=n[r+4>>2];r+=8;for(var h=0;h<u;h++)b(t,e[c+h]);o+=u}return n[i>>2]=o,0}},_={a:w};this.setModule=e=>{t.setModule(jt,e)},this.getModule=()=>t.getModule(jt),this.instantiate=()=>(this.getModule().then((t=>WebAssembly.instantiate(t,_))).then((t=>{const s=t.exports;var i;l=s.j,p=s.k,d=s.m,f=s.n,y=s.o,m=s.p,i=(r=s.h).buffer,new Int8Array(i),new Int16Array(i),e=new Uint8Array(i),new Uint16Array(i),new Int32Array(i),n=new Uint32Array(i),new Float32Array(i),new Float64Array(i),function(t){t.i()}(s),o()})),this.ready=new Promise((t=>{o=t})).then((()=>{this.HEAP=r.buffer,this.malloc=l,this.free=p,this.mpeg_decoder_feed=f,this.mpeg_decoder_read=y,this.mpeg_frame_decoder_create=d,this.mpeg_frame_decoder_destroy=m})),this)}function It(t={}){return this._init=()=>(new this._WASMAudioDecoderCommon).instantiate(this._EmscriptenWASM,this._module).then((e=>{this._common=e,this._sampleRate=0,this._inputBytes=0,this._outputSamples=0,this._frameNumber=0,this._input=this._common.allocateTypedArray(this._inputSize,Uint8Array),this._output=this._common.allocateTypedArray(this._outputSize,Float32Array);const n=this._common.allocateTypedArray(1,Uint32Array);this._samplesDecodedPtr=this._common.allocateTypedArray(1,Uint32Array),this._sampleRatePtr=this._common.allocateTypedArray(1,Uint32Array),this._errorStringPtr=this._common.allocateTypedArray(1,Uint32Array);const r=this._common.wasm.mpeg_frame_decoder_create(n.ptr,!1===t.enableGapless?0:1);if(r)throw Error(this._getErrorMessage(r));this._decoder=n.buf[0]})),Object.defineProperty(this,"ready",{enumerable:!0,get:()=>this._ready}),this._getErrorMessage=t=>t+" "+this._common.codeToString(this._errorStringPtr.buf[0]),this.reset=()=>(this.free(),this._init()),this.free=()=>{this._common.wasm.mpeg_frame_decoder_destroy(this._decoder),this._common.wasm.free(this._decoder),this._common.free()},this.decode=t=>{let e=[],n=[],r=0;if(!(t instanceof Uint8Array))throw Error("Data to decode must be Uint8Array. Instead got "+typeof t);t:for(let s=0,i=0;s<t.length;s+=i){const o=t.subarray(s,this._input.len+s);i=o.length,this._inputBytes+=i,this._input.buf.set(o);let a=this._common.wasm.mpeg_decoder_feed(this._decoder,this._input.ptr,i);if(-10!==a)for(;;){this._samplesDecodedPtr.buf[0]=0,a=this._common.wasm.mpeg_decoder_read(this._decoder,this._output.ptr,this._output.len,this._samplesDecodedPtr.ptr,this._sampleRatePtr.ptr,this._errorStringPtr.ptr);const t=this._samplesDecodedPtr.buf[0];if(this._outputSamples+=t,t&&(r+=t,e.push([this._output.buf.slice(0,t),this._output.buf.slice(t,2*t)])),-11!=a){if(-10===a)continue t;if(a){const t=this._getErrorMessage(a);console.error("mpg123-decoder: "+t),this._common.addError(n,t,0,this._frameNumber,this._inputBytes,this._outputSamples)}}}}return this._WASMAudioDecoderCommon.getDecodedAudioMultiChannel(n,e,2,r,this._sampleRatePtr.buf[0])},this.decodeFrame=t=>{const e=this.decode(t);return this._frameNumber++,e},this.decodeFrames=t=>{let e=[],n=[],r=0,s=0;for(;s<t.length;){const i=this.decodeFrame(t[s++]);e.push(i.channelData),n=n.concat(i.errors),r+=i.samplesDecoded}return this._WASMAudioDecoderCommon.getDecodedAudioMultiChannel(n,e,2,r,this._sampleRatePtr.buf[0])},this._isWebWorker=It.isWebWorker,this._WASMAudioDecoderCommon=It.WASMAudioDecoderCommon||Pt,this._EmscriptenWASM=It.EmscriptenWASM||jt,this._module=It.module,this._inputSize=65536,this._outputSize=92448,this._ready=this._init(),this}function Bt(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=crypto.getRandomValues(new Uint8Array(1))[0]%16;return("x"===t?e:3&e|8).toString(16)}))}var Lt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ft=function(t,e,n,r){return new(n||(n=Promise))((function(s,i){function o(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?s(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(o,a)}c((r=r.apply(t,e||[])).next())}))},qt=function(t,e){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};const Dt=function(t){function e(){var e=t.call(this)||this;return e.audioQueue=[],e.audioBufferQueue=[],e.currentSourceNode=null,e.mediaElementSource=null,e.decoder=new It,navigator.userAgent.includes("Firefox")?e.browser="Firefox":navigator.userAgent.includes("Chrome")?e.browser="Chrome":navigator.userAgent.includes("Safari")?e.browser="Safari":navigator.userAgent.includes("MSIE")||navigator.userAgent.includes("Trident/")?e.browser="IE":e.browser="Unknown",e}return Lt(e,t),e.prototype._initializeAudioPlayer=function(){return Ft(this,void 0,void 0,(function(){var t,e,n,r=this;return qt(this,(function(s){switch(s.label){case 0:return"Safari"!==this.browser&&"Firefox"!==this.browser&&window.MediaSource&&MediaSource.isTypeSupported("audio/mpeg")?(this.mediaSource=new MediaSource,this.audio.src=URL.createObjectURL(this.mediaSource),this.mediaSource.addEventListener("sourceopen",(function(){r._initializeSourceBuffer()})),t=new Blob(["\n        class AudioProcessor extends AudioWorkletProcessor {\n          process(inputs, outputs, parameters) {\n            const input = inputs[0];\n            const output = outputs[0];\n\n            for (let channel = 0; channel < input.length; ++channel) {\n              const inputChannel = input[channel];\n              const outputChannel = output[channel];\n\n              if (!outputChannel) {\n                console.warn('WARNING: Output channel ' + channel + ' not found');\n                // for some reason, we need to just let this worklet crash\n                // if we try to gracefully recover from this, the worklet just keeps looping and never recovers\n              }\n\n              // Copy input data to output\n              for (let i = 0; i < inputChannel.length; ++i) {\n                outputChannel[i] = inputChannel[i];\n              }\n            }\n\n            this.port.postMessage(input);\n            return true;\n          }\n        }\n\n        registerProcessor(\"audio-processor\", AudioProcessor);\n        "],{type:"text/javascript"}),e=URL.createObjectURL(t),[4,this.playingAudioContext.audioWorklet.addModule(e)]):[3,2];case 1:return s.sent(),n=new AudioWorkletNode(this.playingAudioContext,"audio-processor"),this.mediaElementSource=this.playingAudioContext.createMediaElementSource(this.audio),this.mediaElementSource.connect(this.playingAudioContext.destination),this.mediaElementSource.connect(n),n.port.onmessage=function(t){var e=t.data[0];Array.isArray(e)?0===e[0]&&0===e[10]?r._setIsAISpeaking(!1):r._setIsAISpeaking(!0):r._setIsAISpeaking(!1)},[3,4];case 2:return[4,this.decoder.ready];case 3:s.sent(),document.body.addEventListener("click",(function(){"suspended"===r.playingAudioContext.state&&r.playingAudioContext.resume()})),s.label=4;case 4:return[2]}}))}))},e.prototype._startPlaying=function(){return Ft(this,void 0,void 0,(function(){return qt(this,(function(t){switch(t.label){case 0:if("Safari"===this.browser||"Firefox"===this.browser||!window.MediaSource||!MediaSource.isTypeSupported("audio/mpeg"))return[3,8];if(this.mediaSource&&"open"!==this.mediaSource.readyState)return this.mediaSource.addEventListener("sourceopen",this._startPlaying,{once:!0}),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.audio.play()];case 2:case 3:return t.sent(),[3,4];case 4:return t.trys.push([4,6,,7]),[4,this.updateSourceBuffer()];case 5:case 6:return t.sent(),[3,7];case 7:return this._isPlaying=!0,this._startAnalyser&&this._startAnalyser(),[3,9];case 8:this._playWebAudioBufferQueue(),this._startAnalyser(),t.label=9;case 9:return[2]}}))}))},e.prototype._stopPlaying=function(){return Ft(this,arguments,void 0,(function(t){var e;return void 0===t&&(t=!0),qt(this,(function(t){switch(t.label){case 0:this.audioQueue=[];try{this.audio.pause()}catch(t){}return"Safari"!==this.browser&&"Firefox"!==this.browser&&window.MediaSource&&MediaSource.isTypeSupported("audio/mpeg")?("open"===(null===(e=this.mediaSource)||void 0===e?void 0:e.readyState)&&(null==this?void 0:this.mediaSource.sourceBuffers.length)>0&&this.sourceBuffer.abort(),[4,this._reinitializeMediaSource()]):[3,2];case 1:return t.sent(),[3,3];case 2:this.currentSourceNode&&(this.currentSourceNode.stop(),this.currentSourceNode.disconnect(),this.currentSourceNode=null),this.audioBufferQueue=[],t.label=3;case 3:return this._stopAnalyser(),this._isAISpeaking=!1,this._isPlaying=!1,[2]}}))}))},e.prototype._initializeAudio=function(){this.audio=new Audio,this.playingAudioContext=new(window.AudioContext||window.webkitAudioContext)({sampleRate:44100})},e.prototype.playAudio=function(){return Ft(this,void 0,void 0,(function(){return qt(this,(function(t){switch(t.label){case 0:return"Safari"!==this.browser&&"Firefox"!==this.browser&&window.MediaSource&&MediaSource.isTypeSupported("audio/mpeg")?[4,this.updateSourceBuffer()]:[3,2];case 1:return t.sent(),[3,4];case 2:return[4,this.updateWebAudioBuffer()];case 3:t.sent(),t.label=4;case 4:return[2]}}))}))},e.prototype.updateWebAudioBuffer=function(){return Ft(this,void 0,void 0,(function(){var t,e;return qt(this,(function(n){if(this.audioQueue.length>0){t=this.audioQueue.shift();try{e=function(t){for(var e=t.channelData,n=t.sampleRate,r=new AudioBuffer({sampleRate:n,length:e[0].length,numberOfChannels:e.length}),s=0;s<e.length;s++)r.getChannelData(s).set(e[s]);return r}(this.decoder.decode(new Uint8Array(t))),this.audioBufferQueue.push(e),this._playWebAudioBufferQueue()}catch(t){}}return[2]}))}))},e.prototype._playWebAudioBufferQueue=function(){var t=this;if(!this._isPlaying&&this.audioBufferQueue.length>0){this._isPlaying=!0;var e=this.audioBufferQueue.shift();this.currentSourceNode=this.playingAudioContext.createBufferSource(),this.currentSourceNode.buffer=e,this.currentSourceNode.connect(this.analyser),this.currentSourceNode.start(),this.currentSourceNode.onended=function(){t._isPlaying=!1,t._playWebAudioBufferQueue()}}},e.prototype.updateSourceBuffer=function(){return Ft(this,void 0,void 0,(function(){var t;return qt(this,(function(e){switch(e.label){case 0:return this.sourceBuffer&&!this.sourceBuffer.updating&&this.audioQueue.length>0&&this.mediaSource.sourceBuffers.length>0?(t=this.audioQueue.shift(),this.sourceBuffer.appendBuffer(t),[4,this._waitForBufferUpdateEnd()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype._waitForBufferUpdateEnd=function(){return Ft(this,void 0,void 0,(function(){var t=this;return qt(this,(function(e){return[2,new Promise((function(e){t.sourceBuffer.addEventListener("updateend",e,{once:!0})}))]}))}))},e.prototype._initializeSourceBuffer=function(){var t=this;"open"===this.mediaSource.readyState&&(this.sourceBuffer=this.mediaSource.addSourceBuffer("audio/mpeg"),this.sourceBuffer.mode="sequence",this.sourceBuffer.addEventListener("updateend",(function(){t.updateSourceBuffer.bind(t)()})))},e.prototype._reinitializeMediaSource=function(){return Ft(this,void 0,void 0,(function(){var t=this;return qt(this,(function(e){switch(e.label){case 0:return this.mediaSource&&("open"===this.mediaSource.readyState&&this.mediaSource.endOfStream(),this.audio.src="",URL.revokeObjectURL(this.audio.src)),this.mediaSource=new MediaSource,this.audio.src=URL.createObjectURL(this.mediaSource),[4,new Promise((function(e){t.mediaSource.addEventListener("sourceopen",(function(){t._initializeSourceBuffer(),e()}),{once:!0})}))];case 1:return e.sent(),[2]}}))}))},e.prototype._setIsAISpeaking=function(t,e,n){t&&this._isAISpeaking||(t||this._isAISpeaking)&&(!t&&this._isAISpeaking?this._isAISpeaking=!1:t&&!this._isAISpeaking&&(this._isAISpeaking=!0))},e.prototype.isAISpeaking=function(){return this._isAISpeaking},e.prototype._startAnalyser=function(){this.analyser||(this.analyser=this.playingAudioContext.createAnalyser(),this.analyser.fftSize=256,this.emitAmplitudeInterval()),"Safari"!==this.browser&&"Firefox"!==this.browser&&!!window.MediaSource&&MediaSource.isTypeSupported("audio/mpeg")&&this.mediaElementSource.connect(this.analyser),this.analyser.connect(this.playingAudioContext.destination)},e.prototype._stopAnalyser=function(){this.analyser&&(this.analyser.disconnect(),this._emitAmplitudeInterval&&(clearInterval(this._emitAmplitudeInterval),this._emitAmplitudeInterval=null,this.analyser=null,this.emit("ai_speech_amplitude",0)))},e.prototype.emitAmplitudeInterval=function(){var t=this,e=this.analyser.frequencyBinCount,n=new Uint8Array(e);this._emitAmplitudeInterval=setInterval((function(){t.analyser.getByteFrequencyData(n);for(var r=0,s=0;s<e;s++)r+=n[s];var i=r/e;i/256>.1?t.emit("ai_speech_amplitude",i/256*10):t.emit("ai_speech_amplitude",0)}),100)},e}(Rt);var Qt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jt=function(t,e,n,r){return new(n||(n=Promise))((function(s,i){function o(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?s(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(o,a)}c((r=r.apply(t,e||[])).next())}))},zt=function(t,e){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};const Vt=function(t){function e(){var e=t.call(this)||this;return e.microphoneStream=null,e.recordingSampleRate=16e3,navigator.userAgent.includes("Firefox")?e.browser="Firefox":navigator.userAgent.includes("Chrome")?e.browser="Chrome":navigator.userAgent.includes("Safari")?e.browser="Safari":navigator.userAgent.includes("MSIE")||navigator.userAgent.includes("Trident/")?e.browser="IE":e.browser="Unknown",e.recordingSampleRate="Firefox"===e.browser?48e3:16e3,e.audioContext=new(window.AudioContext||window.webkitAudioContext)({sampleRate:e.recordingSampleRate}),e}return Qt(e,t),e.prototype._initializeAudioRecorder=function(){return Jt(this,void 0,void 0,(function(){var t;return zt(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,this.setupMicrophone()];case 1:return e.sent(),[4,this.loadAudioProcessor()];case 2:return e.sent(),[3,4];case 3:throw t=e.sent(),this.emit("Error",t),new Et("AUDIO_RECORDER","Failed to initialize audio recorder: Permission denied");case 4:return[2]}}))}))},e.prototype.setupMicrophone=function(){return Jt(this,void 0,void 0,(function(){var t;return zt(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=this,[4,navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,channelCount:1,sampleRate:this.recordingSampleRate}})];case 1:return t.microphoneStream=e.sent(),this.mediaStreamSource=this.audioContext.createMediaStreamSource(this.microphoneStream),[3,3];case 2:throw e.sent();case 3:return[2]}}))}))},e.prototype.loadAudioProcessor=function(){return Jt(this,void 0,void 0,(function(){var t,e;return zt(this,(function(n){switch(n.label){case 0:return t=new Blob(["\n\t  class RecordingAudioProcessor extends AudioWorkletProcessor {\n\t    constructor() {\n\t      super();\n\t      this.buffer = [];\n\t    }\n\n\t    process(inputs, outputs, parameters) {\n\t      if (!inputs[0] || !inputs[0][0]) {\n\t        console.error('Invalid or empty audio input');\n\t        return false; // Stop processing if input is not valid\n\t      }\n\n\t      const input = inputs[0][0];\n\n\t      // Convert float samples to Int16\n\t      let int16Array = new Int16Array(input.length);\n\t      for (let i = 0; i < input.length; i++) {\n\t        int16Array[i] = input[i] * 0x7FFF;\n\t      }\n\n\t      // Buffer the converted data; You could send this to the main thread later\n\t      this.buffer.push(int16Array);\n\n\t      // If we've buffered enough, send to the main thread (example)\n\t      if (this.buffer.length > 4) {\n\t        // Using reduce to concatenate arrays\n\t        let concatenatedBuffer = this.buffer.reduce((acc, val) => {\n\t          let tmp = new Int16Array(acc.length + val.length);\n\t          tmp.set(acc);\n\t          tmp.set(val, acc.length);\n\t          return tmp;\n\t        }, new Int16Array());\n\n\t        this.port.postMessage(concatenatedBuffer.buffer);\n\t        this.buffer = [];\n\t      }\n\n\t      return true;\n\t    }\n\t  }\n\n\t  registerProcessor('my-recording-processor', RecordingAudioProcessor);\n\t"],{type:"text/javascript"}),e=URL.createObjectURL(t),[4,this.audioContext.audioWorklet.addModule(e)];case 1:return n.sent(),[2]}}))}))},e.prototype._startRecording=function(){var t=this;if(!this.microphoneStream)throw new Et("AUDIO_RECORDER","Microphone stream not available.");this.audioWorkletNode=new AudioWorkletNode(this.audioContext,"my-recording-processor"),this.mediaStreamSource.connect(this.audioWorkletNode),this.audioWorkletNode.connect(this.audioContext.destination),this.audioWorkletNode.port.onmessage=function(e){var n={fileBuffer:new Uint8Array(e.data),mimeType:"pcm"};t.emit("UserSpeechChunk",n)}},e.prototype._stopRecording=function(){return Jt(this,void 0,void 0,(function(){var t,e;return zt(this,(function(n){switch(n.label){case 0:return this.audioWorkletNode&&this.audioWorkletNode.disconnect(),this.mediaStreamSource&&this.mediaStreamSource.disconnect(),[4,this.audioContext.close()];case 1:if(n.sent(),this.microphoneStream){for(t=0,e=this.microphoneStream.getTracks();t<e.length;t++)e[t].stop();this.microphoneStream=null}return[2]}}))}))},e}(Rt);var Wt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yt=function(t,e,n,r){return new(n||(n=Promise))((function(s,i){function o(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?s(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(o,a)}c((r=r.apply(t,e||[])).next())}))},Ht=function(t,e){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};const Kt=function(t){function e(){var e=t.call(this)||this;return e.AudioPlayer=new Dt,e.AudioRecorder=new Vt,e}return Wt(e,t),e.prototype.enqueue=function(t){if(!this._canAIAcceptNewInput)throw new Et("AUDIO_QUE","AI cannot accept new input at this time");this.AudioPlayer.audioQueue.push(t)},e.prototype._setCanAIAcceptNewInput=function(t){this._canAIAcceptNewInput=t},e.prototype.canAIAcceptNewInput=function(){return this._canAIAcceptNewInput},e.prototype.playAudio=function(){return Yt(this,void 0,void 0,(function(){return Ht(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.AudioPlayer.playAudio()];case 1:return t.sent(),[3,3];case 2:throw t.sent();case 3:return[2]}}))}))},e.prototype.initializeChat=function(){return Yt(this,void 0,void 0,(function(){return Ht(this,(function(t){switch(t.label){case 0:this.AudioPlayer._initializeAudio(),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.AudioRecorder._initializeAudioRecorder()];case 2:return t.sent(),[3,4];case 3:throw t.sent();case 4:return t.trys.push([4,6,,7]),[4,this.AudioPlayer._initializeAudioPlayer()];case 5:return t.sent(),[3,7];case 6:throw t.sent();case 7:return this.registerRecorderListeners(),this.registeredPlayerListeners(),[2]}}))}))},e.prototype.startChatting=function(){return Yt(this,void 0,void 0,(function(){return Ht(this,(function(t){if(!this.AudioRecorder._startRecording||!this.AudioPlayer._startPlaying)throw new Et("AUDIO_QUE",'Chat not initialized. Please call "initializeChat" first.');return this.AudioRecorder._startRecording(),this.AudioPlayer._startPlaying(),[2]}))}))},e.prototype.stopChatting=function(){return Yt(this,void 0,void 0,(function(){return Ht(this,(function(t){switch(t.label){case 0:if(!this.AudioRecorder._stopRecording||!this.AudioPlayer._stopPlaying)throw new Et("AUDIO_QUE",'Chat not initialized. Please call "initializeChat" first.');return[4,this.AudioRecorder._stopRecording()];case 1:return t.sent(),[4,this.AudioPlayer._stopPlaying()];case 2:return t.sent(),[2]}}))}))},e.prototype.stopAISpeech=function(){return Yt(this,void 0,void 0,(function(){return Ht(this,(function(t){switch(t.label){case 0:return this._setCanAIAcceptNewInput(!1),[4,this.AudioPlayer._stopPlaying(!1)];case 1:return t.sent(),[2]}}))}))},e.prototype.restartAISpeech=function(){return Yt(this,void 0,void 0,(function(){var t;return Ht(this,(function(e){return this._setCanAIAcceptNewInput(!0),(null===(t=this.AudioPlayer)||void 0===t?void 0:t.isAISpeaking())||this.AudioPlayer._startPlaying(),[2]}))}))},e.prototype.registerRecorderListeners=function(){var t=this;this.AudioRecorder.on("UserSpeechChunk",(function(e){t.emit("UserSpeechChunk",e)}))},e.prototype.registeredPlayerListeners=function(){var t=this;this.AudioPlayer.on("ai_speech_amplitude",(function(e){t.emit("ai_speech_amplitude",e)}))},e}(Rt);var $t=function(t,e,n,r){return new(n||(n=Promise))((function(s,i){function o(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?s(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(o,a)}c((r=r.apply(t,e||[])).next())}))},Xt=function(t,e){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Zt=function(){function t(t,e){var n=(void 0===e?{baseUrl:"https://api.prod.centralus.az.sindarin.tech"}:e).baseUrl;this.apiKey=t,this.baseUrl=n}return t.prototype.getConversationData=function(t){return $t(this,void 0,void 0,(function(){return Xt(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,fetch("".concat(this.baseUrl,"/api/conversations/").concat(t,"?apikey=").concat(this.apiKey))];case 1:return[4,e.sent().json()];case 2:return[2,e.sent()];case 3:throw e.sent();case 4:return[2]}}))}))},t.prototype.fetchPersonas=function(){return $t(this,void 0,void 0,(function(){return Xt(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,fetch("".concat(this.baseUrl,"/api/personas?apikey=").concat(this.apiKey))];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()];case 3:throw t.sent();case 4:return[2]}}))}))},t.prototype.fetchLLMs=function(){return $t(this,void 0,void 0,(function(){return Xt(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,fetch("".concat(this.baseUrl,"/api/llms?apikey=").concat(this.apiKey))];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()];case 3:throw t.sent();case 4:return[2]}}))}))},t.prototype.fetchTranscripts=function(t,e,n,r,s){return $t(this,void 0,void 0,(function(){return Xt(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,fetch("".concat(this.baseUrl,"/api/transcripts?apikey=").concat(this.apiKey,"&start=").concat(null!=n?n:"","&end=").concat(null!=r?r:"","&personaIds=").concat(null!=e?e:"","&userIds=").concat(null!=t?t:"","&page=").concat(null!=s?s:""))];case 1:return[4,i.sent().json()];case 2:return[2,i.sent()];case 3:throw i.sent();case 4:return[2]}}))}))},t.prototype.fetchTeam=function(){return $t(this,void 0,void 0,(function(){return Xt(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,fetch("".concat(this.baseUrl,"/api/team?apikey=").concat(this.apiKey))];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()];case 3:throw t.sent();case 4:return[2]}}))}))},t.prototype.changeLLM=function(t,e){return $t(this,void 0,void 0,(function(){var n,r;return Xt(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,fetch("".concat(this.baseUrl,"/api/personas/").concat(t,"/llm?apikey=").concat(this.apiKey),{method:"PUT",body:JSON.stringify({llm:e}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}})];case 1:return[4,(n=s.sent()).text()];case 2:return r=s.sent(),[2,{status:n.status,data:r}];case 3:throw s.sent();case 4:return[2]}}))}))},t.prototype.fetchVoices=function(){return $t(this,void 0,void 0,(function(){return Xt(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,fetch("".concat(this.baseUrl,"/api/voices?apikey=").concat(this.apiKey))];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()];case 3:throw t.sent();case 4:return[2]}}))}))},t.prototype.changeVoice=function(t,e){return $t(this,void 0,void 0,(function(){var n,r;return Xt(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,fetch("".concat(this.baseUrl,"/api/personas/").concat(t,"/voice?apikey=").concat(this.apiKey),{method:"PUT",body:JSON.stringify({voiceId:e}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}})];case 1:return[4,(n=s.sent()).text()];case 2:return r=s.sent(),[2,{status:n.status,data:r}];case 3:throw s.sent();case 4:return[2]}}))}))},t.prototype.changeInitialMessage=function(t,e){return $t(this,void 0,void 0,(function(){var n,r;return Xt(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,fetch("".concat(this.baseUrl,"/api/personas/").concat(t,"/initialMessage?apikey=").concat(this.apiKey),{method:"PUT",body:JSON.stringify({initialMessage:e}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}})];case 1:return[4,(n=s.sent()).text()];case 2:return r=s.sent(),[2,{status:n.status,data:r}];case 3:throw s.sent();case 4:return[2]}}))}))},t.prototype.changeRateLimitMessage=function(t,e){return $t(this,void 0,void 0,(function(){var n,r;return Xt(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,fetch("".concat(this.baseUrl,"/api/personas/").concat(t,"/rateLimitMessage?apikey=").concat(this.apiKey),{method:"PUT",body:JSON.stringify({rateLimitMessage:e}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}})];case 1:return[4,(n=s.sent()).text()];case 2:return r=s.sent(),[2,{status:n.status,data:r}];case 3:throw s.sent();case 4:return[2]}}))}))},t.prototype.toggleRateLimit=function(t,e){return $t(this,void 0,void 0,(function(){var n,r;return Xt(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,fetch("".concat(this.baseUrl,"/api/personas/").concat(t,"/toggleRateLimit?apikey=").concat(this.apiKey),{method:"PUT",body:JSON.stringify({enabled:e}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}})];case 1:return[4,(n=s.sent()).text()];case 2:return r=s.sent(),[2,{status:n.status,data:r}];case 3:throw s.sent();case 4:return[2]}}))}))},t.prototype.changePrompt=function(t,e){return $t(this,void 0,void 0,(function(){var n,r;return Xt(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,fetch("".concat(this.baseUrl,"/api/personas/").concat(t,"/prompt?apikey=").concat(this.apiKey),{method:"PUT",body:JSON.stringify({prompt:e}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}})];case 1:return[4,(n=s.sent()).text()];case 2:return r=s.sent(),[2,{status:n.status,data:r}];case 3:throw s.sent();case 4:return[2]}}))}))},t.prototype.changeSchema=function(t,e){return $t(this,void 0,void 0,(function(){var n,r;return Xt(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,fetch("".concat(this.baseUrl,"/api/personas/").concat(t,"/schema?apikey=").concat(this.apiKey),{method:"PUT",body:e,headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}})];case 1:return[4,(n=s.sent()).text()];case 2:return r=s.sent(),[2,{status:n.status,data:r}];case 3:throw s.sent();case 4:return[2]}}))}))},t.prototype.changeScenarios=function(t,e){return $t(this,void 0,void 0,(function(){var n,r;return Xt(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,fetch("".concat(this.baseUrl,"/api/personas/").concat(t,"/scenarios?apikey=").concat(this.apiKey),{method:"PUT",body:JSON.stringify({scenarios:e}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}})];case 1:return[4,(n=s.sent()).text()];case 2:return r=s.sent(),[2,{status:n.status,data:r}];case 3:throw s.sent();case 4:return[2]}}))}))},t.prototype.changePersonaName=function(t,e){return $t(this,void 0,void 0,(function(){var n,r;return Xt(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,fetch("".concat(this.baseUrl,"/api/personas/").concat(t,"/name?apikey=").concat(this.apiKey),{method:"PUT",body:JSON.stringify({name:e}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}})];case 1:return[4,(n=s.sent()).text()];case 2:return r=s.sent(),[2,{status:n.status,data:r}];case 3:throw s.sent();case 4:return[2]}}))}))},t.prototype.makeCall=function(t,e,n,r){return $t(this,void 0,void 0,(function(){var s,i;return Xt(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,fetch("".concat(this.baseUrl,"/api/personas/").concat(t,"/makecall?apikey=").concat(this.apiKey),{method:"PUT",body:JSON.stringify({phoneNumber:e,details:n,record:r}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}})];case 1:return[4,(s=o.sent()).text()];case 2:return i=o.sent(),[2,{status:s.status,data:i}];case 3:throw o.sent();case 4:return[2]}}))}))},t.prototype.playVoiceSample=function(t){return $t(this,void 0,void 0,(function(){var e,n,r,s;return Xt(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),[4,fetch("".concat(this.baseUrl,"/api/voices/").concat(t,"/sample?apikey=").concat(this.apiKey),{headers:{"Content-Type":"audio/mpeg"}})];case 1:return[4,(e=i.sent()).blob()];case 2:return"application/octet-stream"===(n=i.sent()).type&&(n=new Blob([n],{type:"audio/mp3"})),r=window.URL.createObjectURL(n),(s=new Audio).src=r,s.volume=1,s.muted=!1,s.load(),s.addEventListener("error",(function(t){console.error("Error playing audio:",t)})),s.addEventListener("canplaythrough",(function(){s.play().catch((function(t){console.error("Error playing audio",t)}))})),[4,s.play()];case 3:return i.sent(),[2,{status:e.status}];case 4:throw i.sent();case 5:return[2]}}))}))},t}();const Gt=Zt;var te=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ee=function(t,e,n,r){return new(n||(n=Promise))((function(s,i){function o(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?s(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(o,a)}c((r=r.apply(t,e||[])).next())}))},ne=function(t,e){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},re="info",se=function(t){function e(e,n){void 0===n&&(n={baseUrl:"https://api.prod.centralus.az.sindarin.tech"});var r=t.call(this)||this;return r.isPaused=!0,r.messages=[],r.socket=null,r.handleInitResponse=function(t){return ee(r,[t],void 0,(function(t){var e=t.statusCode,n=t.res;return ne(this,(function(t){if(201===e){if(!n.id){if(null==n?void 0:n.errors)throw new Et("SOCKET",JSON.stringify(n.errors,null,2));throw new Et("SOCKET","Failed to create conversation with message: ".concat(JSON.stringify(n)))}this.conversationId=n.id,this._registerAudioQueueListeners(),this.registerSocketEvents(),this.emit("ready")}else this.emit("error",new Et("SOCKET","Failed to initiate socket"));return[2]}))}))},r.apiKey=e,r.messages=[],r.options=n,r.socket=null,r.service=new Gt(e,n),r}return te(e,t),e.prototype.configure=function(t){var e=this;return new Promise((function(n,r){e.config={userId:t.userId||"",personaName:t.personaName,personaId:t.personaId,details:t.details,personaConfig:t.personaConfig,metadata:t.metadata||{},options:t.options||{shouldNotSaveConversation:!1,debugMode:!1,streamTranscripts:!1}},n()}))},e.prototype.init=function(t){return ee(this,void 0,void 0,(function(){return ne(this,(function(e){switch(e.label){case 0:e.trys.push([0,12,,13]),this.messages=[],e.label=1;case 1:return e.trys.push([1,4,,5]),[4,this.configure(t)];case 2:return e.sent(),[4,this.setupAudioQueManager()];case 3:return e.sent(),[3,5];case 4:throw e.sent();case 5:return e.trys.push([5,7,,8]),[4,this.setupSocket()];case 6:return e.sent(),[3,8];case 7:throw e.sent();case 8:return e.trys.push([8,10,,11]),[4,this.audioQueueManager.startChatting()];case 9:return e.sent(),[3,11];case 10:throw e.sent();case 11:return[3,13];case 12:throw e.sent();case 13:return[2]}}))}))},e.prototype.setupAudioQueManager=function(){return ee(this,void 0,void 0,(function(){var t;return ne(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),this.audioQueueManager=new Kt,[4,this.audioQueueManager.initializeChat()];case 1:return e.sent(),[3,3];case 2:throw t=e.sent(),this.audioQueueManager=null,t;case 3:return[2]}}))}))},e.prototype.setupSocket=function(){return ee(this,void 0,void 0,(function(){var t=this;return ne(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,new Promise((function(e,n){var r=t.config,s=r.personaName,i=r.personaConfig,o=r.personaId,a=r.details,c=r.userId,u=r.metadata,h=r.options;t.socket=kt("".concat(t.options.baseUrl,"/"),{reconnection:!1,autoConnect:!1,transports:["websocket"],query:{apiKey:t.apiKey}}),t.socket.connect(),t.socket.on("connect_error",(function(e){return ee(t,void 0,void 0,(function(){return ne(this,(function(t){switch(t.label){case 0:return this.emit("connect_error",new Et("SOCKET",e.message)),[4,this.end()];case 1:return t.sent(),n(new Et("SOCKET",e.message)),[2]}}))}))})),t.socket.on("error",(function(e){return ee(t,void 0,void 0,(function(){return ne(this,(function(t){switch(t.label){case 0:return this.emit("error",new Et("SOCKET",e)),n(new Et("SOCKET",e)),[4,this.end()];case 1:return t.sent(),[2]}}))}))})),t.socket.on("init_response",(function(n){return ee(t,void 0,void 0,(function(){return ne(this,(function(t){switch(t.label){case 0:return[4,this.handleInitResponse(n)];case 1:return t.sent(),e(),[2]}}))}))})),t.socket.emit("init",{apiKey:t.apiKey,personaName:s,personaId:o,details:a,userId:c,metadata:u,personaConfig:i,inputAudioFormat:"pcm",inputAudioSampleRate:t.audioQueueManager.AudioRecorder.recordingSampleRate,outputAudioFormat:"mp3",shouldNotSaveConversation:!!h.shouldNotSaveConversation,debugMode:!!h.debugMode,streamTranscripts:!!h.streamTranscripts})}))];case 1:return e.sent(),[3,3];case 2:throw e.sent();case 3:return[2]}}))}))},e.prototype.registerSocketEvents=function(){var t=this;this.socket&&(this.socket.on("temporary_user_transcript",(function(e){var n=JSON.parse(e),r=t.messages.find((function(t){return"temporary_message"===t.type&&"user"===t.source})),s=t.messages.find((function(t){return"message"===t.type&&"user"===t.source&&t.messageId===n.messageId})),i=s&&n.start>s.end-200;s&&(i||(t.messages=t.messages.filter((function(t){return!("user"===t.source&&t.messageId===n.messageId)})))),r?r.content=n.message:t.messages.push({source:"user",type:"temporary_message",messageId:n.messageId,content:n.message}),t.emit("messages_update",t.messages)})),this.socket.on("final_user_transcript",(function(e){var n=JSON.parse(e);t.messages=t.messages.filter((function(t){return!("user"===t.source&&"temporary_message"===t.type&&t.messageId===n.messageId)}));var r=t.messages.find((function(t){return"user"===t.source&&t.messageId===n.messageId})),s=r&&n.start>r.end-200;r&&(s||(t.messages=t.messages.filter((function(t){return!("user"===t.source&&t.messageId===n.messageId)})))),t.messages.push({source:"user",type:"message",messageId:n.messageId,content:n.message,start:n.start,end:n.end}),t.emit("messages_update",t.messages)})),this.socket.on("final_ai_transcript",(function(e){var n=JSON.parse(e);t.messages.push({source:"ai",type:"message",messageId:n.messageId,content:n.message}),t.emit("messages_update",t.messages)})),this.socket.on("reply_json",(function(t){})),this.socket.on("conversation_trigger",(function(e){var n=JSON.parse(e);n.stop_playing?(t.emit("ai_speech_stopped"),t.audioQueueManager&&t.audioQueueManager.stopAISpeech()):n.start_playing?(t.emit("ai_speech_started"),t.audioQueueManager&&t.audioQueueManager.restartAISpeech()):n.speech_started?t.emit("user_speech_started"):n.speech_ended&&t.emit("user_speech_ended")})),this.socket.on("actions",(function(e){var n=JSON.parse(e);t.messages.push({action:n}),t.emit("action",n)})),this.socket.on("state_updated",(function(e){var n=JSON.parse(e);t.emit("state_updated",n)})),this.socket.on("debug_event",(function(e){for(var n=JSON.parse(e),r=0,s=n;r<s.length;r++){var i=s[r];t.messages.push({source:"system",level:i.level,content:i.message,category:i.category,details:i.details})}t.emit("debug_event",n),t.emit("messages_update",t.messages)})),this.socket.on("snapshot",(function(e){var n=JSON.parse(e);t.emit("snapshot",n)})),this.socket.on("disconnect",(function(){t.emit("disconnected")})),this.socket.on("reply_chunk",(function(e){return ee(t,void 0,void 0,(function(){var t;return ne(this,(function(n){switch(n.label){case 0:if(!(null===(t=this.audioQueueManager)||void 0===t?void 0:t.canAIAcceptNewInput()))return[3,5];this.audioQueueManager.enqueue(e),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.audioQueueManager.playAudio()];case 2:return n.sent(),[3,4];case 3:throw n.sent();case 4:return[3,6];case 5:console.log("****REPLY CHUNK REJECTED"),n.label=6;case 6:return[2]}}))}))})),this.socket.on("reply_end",(function(){return ee(t,void 0,void 0,(function(){return ne(this,(function(t){return[2]}))}))})))},e.prototype._registerAudioQueueListeners=function(){var t=this;this.audioQueueManager.on("UserSpeechChunk",(function(e){var n=e.fileBuffer;e.mimeType,t.audioQueueManager&&t.socket.emit("audio_chunk_continuous",{conversationId:t.conversationId,fileBuffer:n})})),this.audioQueueManager.on("ai_speech_amplitude",(function(e){t.emit("ai_speech_amplitude",e)}))},e.prototype.end=function(){return ee(this,void 0,void 0,(function(){return ne(this,(function(t){switch(t.label){case 0:return this.audioQueueManager?[4,this.audioQueueManager.stopChatting()]:[3,2];case 1:t.sent(),this.audioQueueManager=null,t.label=2;case 2:return this.socket&&(this.socket.disconnect(),this.socket=null),this.config&&(this.config=null),[2]}}))}))},e.prototype.pause=function(){return ee(this,void 0,void 0,(function(){return ne(this,(function(t){switch(t.label){case 0:if(!this.audioQueueManager)throw new Et("PERSONA","Conversation not initialized");return this.messages.push({messageId:Bt(),source:"system",level:re,content:"Conversation paused."}),this.audioQueueManager?[4,this.audioQueueManager.stopChatting()]:[3,2];case 1:t.sent(),this.audioQueueManager=null,t.label=2;case 2:return this.emit("messages_update",this.messages),this.isPaused=!0,[2]}}))}))},e.prototype.resume=function(){return ee(this,void 0,void 0,(function(){return ne(this,(function(t){switch(t.label){case 0:if(!this.conversationId||!this.socket)throw new Et("PERSONA","Conversation not initialized");if(!this.isPaused)throw new Et("PERSONA","Conversation in progress");return this.audioQueueManager=new Kt,[4,this.audioQueueManager.initializeChat()];case 1:return t.sent(),this.audioQueueManager.startChatting(),this._registerAudioQueueListeners(),this.messages.push({messageId:Bt(),source:"system",level:re,content:"Conversation resumed."}),this.emit("messages_update",this.messages),this.isPaused=!1,[2]}}))}))},e.prototype.updateState=function(t,e,n){this.socket.emit("update_state",{apiKey:this.apiKey,conversationId:this.conversationId,newState:t,shouldReact:void 0!==e&&e,thought:void 0!==n?n:""})},e.prototype.sayText=function(t){this.socket.emit("say_text",{conversationId:this.conversationId,text:t})},e.prototype.reactTo=function(t,e){void 0===e&&(e={}),this.socket.emit("event_text",{conversationId:this.conversationId,text:t,shouldReact:void 0===e.shouldReact||e.shouldReact,shouldInterrupt:void 0!==e.shouldInterrupt&&e.shouldInterrupt,canBeInterrupted:void 0===e.canBeInterrupted||e.canBeInterrupted})},e}(Rt);const ie=se;var oe=r(72),ae=r.n(oe),ce=r(825),ue=r.n(ce),he=r(659),le=r.n(he),pe=r(56),de=r.n(pe),fe=r(540),ye=r.n(fe),me=r(113),ge=r.n(me),ve=r(743),be={};be.styleTagTransform=ge(),be.setAttributes=de(),be.insert=le().bind(null,"head"),be.domAPI=ue(),be.insertStyleElement=ye(),ae()(ve.A,be),ve.A&&ve.A.locals&&ve.A.locals;const we=function(){return(0,o.jsxs)("div",{className:"typing",children:[(0,o.jsx)("span",{className:"dot"}),(0,o.jsx)("span",{className:"dot"}),(0,o.jsx)("span",{className:"dot"})]})};var _e=function(t,e,n,r){return new(n||(n=Promise))((function(s,i){function o(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?s(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(o,a)}c((r=r.apply(t,e||[])).next())}))},Ae=function(t,e){var n,r,s,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Se=function(t,e,n){if(n||2===arguments.length)for(var r,s=0,i=e.length;s<i;s++)!r&&s in e||(r||(r=Array.prototype.slice.call(e,0,s)),r[s]=e[s]);return t.concat(r||Array.prototype.slice.call(e))};const Ue=function(){var t=(0,a.useRef)(null),e=(0,a.useState)(!1),n=e[0],r=e[1],s=(0,a.useState)(""),i=s[0],c=s[1],u=(0,a.useState)([{source:"",content:""}]),h=u[0],l=u[1],p=(0,a.useState)(!0),d=p[0],f=p[1],y=(0,a.useRef)(!1),m=(0,a.useRef)(null);(0,a.useEffect)((function(){if(!t.current){var e=new ie("ca28a391-8c98-4386-9057-afb62cc43223");t.current=e;var n={userId:"123",personaName:"genericPersona",options:{debugMode:!0,streamTranscripts:!0,shouldNotSaveConversation:!0}};_e(void 0,void 0,void 0,(function(){var t,r;return Ae(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,e.init(n)];case 1:return s.sent(),g(e),f(!1),[3,3];case 2:return t=s.sent(),r={source:"error",content:"Error initializing"},l((function(t){return Se(Se([],t,!0),[r],!1)})),console.log("Error initializing Persona Client:",t),f(!1),[3,3];case 3:return[2]}}))}))}}),[]);var g=function(t){var e=0;t.on("messages_update",(function(t){y.current||l((function(e){return Se([e],t,!0)})),1!=++e&&e%2==0||f(!1)})),t.on("error",(function(t){console.error("Error from Persona Client:",t);var e={source:"error",content:"Error from Persona Client"};f(!1),l((function(t){return Se(Se([],t,!0),[e],!1)}))})),t.on("state_updated",(function(t){console.log("State updated:",t)})),t.on("action",(function(t){console.log("Action received:",t)}))},v=function(){return _e(void 0,void 0,void 0,(function(){var e,n,r,s;return Ae(this,(function(o){switch(o.label){case 0:if(!i.trim()||!t.current)return[2];o.label=1;case 1:if(o.trys.push([1,6,,7]),e=t.current,!y.current)return[3,5];o.label=2;case 2:return o.trys.push([2,4,,5]),[4,e.resume()];case 3:return o.sent(),y.current=!1,[3,5];case 4:return n=o.sent(),console.log("Error in resuming",n),[3,5];case 5:return e.reactTo(i),c(""),f(!0),[3,7];case 6:return r=o.sent(),console.error("Error sending message:",r),s={source:"error",content:"Error While Sending"},l((function(t){return Se(Se([],t,!0),[s],!1)})),[3,7];case 7:return[2]}}))}))};return(0,a.useEffect)((function(){m.current&&m.current.scrollIntoView({behavior:"smooth"})}),[h]),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"fixed bottom-4 right-4 flex items-center justify-center w-16 h-16 bg-pink-700 rounded-full cursor-pointer focus:outline-none transition-transform duration-300 hover:scale-110",role:"button",tabIndex:0,onClick:function(){r(!n)},children:n?(0,o.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 17 18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:"flex-shrink-0",children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.627 9.013l6.872 6.873.708.707-1.415 1.414-.707-.707-6.872-6.872L2.34 17.3l-.707.707L.22 16.593l.707-.707L7.8 9.013.946 2.161l-.707-.708L1.653.04l.707.707L9.213 7.6 16.066.746l.707-.707 1.414 1.414-.707.708-6.853 6.852z"})}):(0,o.jsx)("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.9284 44.6022C40.3569 43.8082 45.3335 38.3272 45.3335 31.6839C45.3335 24.4947 39.5055 18.6667 32.3163 18.6667C25.1271 18.6667 19.2992 24.4947 19.2992 31.6839C19.2992 32.8351 19.4486 33.9515 19.7292 35.0146C19.8356 35.5696 19.9736 36.1063 20.1416 36.6233C20.9032 40.3874 19.3534 44.8018 18.6667 44.8018H32.3729L33.6737 44.6407C33.7662 44.631 33.8509 44.6181 33.9284 44.6022Z"})})}),n&&(0,o.jsx)("div",{className:"flex h-screen items-end justify-end p-4",children:(0,o.jsx)("div",{className:"fixed bottom-24 right-4 pl-8 h-[530px] animate-floatUp w-full sm:w-[410px]",children:(0,o.jsxs)("div",{className:"flex h-full flex-col rounded-lg bg-white shadow-lg",children:[(0,o.jsx)("div",{className:"flex items-center justify-between rounded-t-lg bg-pink-600 p-4 text-white",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("span",{className:"mr-3 rounded-full bg-white p-2 text-pink-600",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11.999 0c-2.25 0-4.5.06-6.6.21a5.57 5.57 0 0 0-5.19 5.1c-.24 3.21-.27 6.39-.06 9.6a5.644 5.644 0 0 0 5.7 5.19h3.15v-3.9h-3.15c-.93.03-1.74-.63-1.83-1.56-.18-3-.15-6 .06-9 .06-.84.72-1.47 1.56-1.53 2.04-.15 4.2-.21 6.36-.21s4.32.09 6.36.18c.81.06 1.5.69 1.56 1.53.24 3 .24 6 .06 9-.12.93-.9 1.62-1.83 1.59h-3.15l-6 3.9V24l6-3.9h3.15c2.97.03 5.46-2.25 5.7-5.19.21-3.18.18-6.39-.03-9.57a5.57 5.57 0 0 0-5.19-5.1c-2.13-.18-4.38-.24-6.63-.24zm-5.04 8.76c-.36 0-.66.3-.66.66v2.34c0 .33.18.63.48.78 1.62.78 3.42 1.2 5.22 1.26 1.8-.06 3.6-.48 5.22-1.26.3-.15.48-.45.48-.78V9.42c0-.09-.03-.15-.09-.21a.648.648 0 0 0-.87-.36c-1.5.66-3.12 1.02-4.77 1.05-1.65-.03-3.27-.42-4.77-1.08a.566.566 0 0 0-.24-.06z"})})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"font-bold",children:"Little Giant Widget"}),(0,o.jsx)("p",{className:"text-sm",children:"24/7 Available"})]})]})}),(0,o.jsxs)("div",{className:"flex-1 overflow-y-auto p-4",children:[h&&h.map((function(t,e){var n,r,s;return(0,o.jsx)("div",{className:"flex ".concat("ai"===t.source||"error"===t.source?"justify-start":"justify-end"," mb-3"),children:"ai"===t.source?(0,o.jsx)("div",{className:"p-2 rounded-lg ".concat("bg-gray-300 text-black"),children:t.content}):"system"===t.source?(0,o.jsx)("div",{className:"p-2 rounded-lg ".concat("bg-pink-600 text-white"),children:(null===(s=(null!==(r=null===(n=null==t?void 0:t.content)||void 0===n?void 0:n.match(/"(.*?)"/))&&void 0!==r?r:[null])[1])||void 0===s?void 0:s.trim())||t.content}):"error"===t.source?(0,o.jsx)("div",{className:"p-2 rounded-lg ".concat("bg-red-600 text-white"),children:t.content}):""},e)})),d&&(0,o.jsx)("div",{className:"flex justify-start mb-2",children:(0,o.jsx)("div",{className:"p-2 rounded-lg text-black",children:(0,o.jsx)(we,{})})}),(0,o.jsx)("div",{ref:m})]}),(0,o.jsx)("div",{className:"border-t p-4",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("textarea",{value:i,onChange:function(t){c(t.target.value),t.target.style.height="auto",t.target.style.height="".concat(t.target.scrollHeight,"px")},rows:1,onKeyDown:function(t){"Enter"!==t.key||t.shiftKey||d||(t.preventDefault(),v())},style:{resize:"none"},className:"w-full rounded-lg border p-2 text-gray-700 focus:border-pink-500 focus:outline-none",placeholder:"Write a message"}),(0,o.jsx)("button",{onClick:d?function(){return _e(void 0,void 0,void 0,(function(){var e,n;return Ae(this,(function(r){switch(r.label){case 0:if(e=t.current,y.current)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,null==e?void 0:e.pause()];case 2:return r.sent(),y.current=!0,f(!1),[3,4];case 3:return n=r.sent(),console.log(n),[3,4];case 4:return[2]}}))}))}:v,className:"ml-2 p-2 text-pink-600 hover:text-pink-600 focus:outline-none",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",stroke:"none",children:d?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("circle",{cx:"12",cy:"12",r:"11",fill:"none",stroke:"grey",strokeWidth:"2"}),(0,o.jsx)("path",{d:"M7 7h10v10H7z",fill:"currentColor"})]}):(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21.158.222L2.568 11.815c-.8.498-.749 1.215.113 1.591l4.406 1.923 10.395-9.903c1.377-1.296 1.569-1.119.426.395L8.254 18.215v4.927c0 .953.5 1.141 1.113.418l4.473-5.282 5.055 2.207c.861.376 1.643-.092 1.736-1.04l1.81-18.404c.094-.949-.484-1.317-1.283-.819"})})})]})})]})})})]})};return s})()));